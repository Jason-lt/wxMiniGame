{"version":3,"sources":["../../../../../assets/Scripts/component/assets/Scripts/component/seq_begin.js"],"names":["cc","Class","extends","Component","properties","versionLabel","Label","onLoad","tcpManager","websocket","init","tywx","BiLog","clickStat","wxGame","biManager","enterGame","AudioManager","loadNode","ThirdAPI","require","showGameClub","NotificationCenter","listen","EventType","UPDATE_USER_INFO","updateUserInfo","ctr","addGuide","show","Global","gameInfo","max_score","GlobalFuncs","upDateRankData","string","version","onClickTopBtn","shareManager","extraParam","sendTime","Date","getTime","sharePoint","onClickBottomBtn","startGame","isEmptyObject","saveGameInfo","playGame","recordUI","onClickFriendRank","friendRank","showRankUI","onClickGroupRank","RankShareSuccess","bind","RankShareFail","openId","shareTicket","LOGE","JSON","stringify","showToast","onDestroy","ignoreScope","hide"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAaL,GAAGM;AADR,KAHP;;AAOL;;AAEAC,YAAO,kBAAU;AACbC,mBAAWC,SAAX,CAAqBC,IAArB;AACA;AACA;AACA;;AAEAC,aAAKC,KAAL,CAAWC,SAAX,CAAqBC,OAAOC,SAAP,CAAiBC,SAAtC,EAAiD,CAAC,WAAD,CAAjD;;AAEAF,eAAOG,YAAP,CAAoBC,QAApB;;AAEA;AACA,YAAIC,WAAWC,QAAQ,oBAAR,CAAf;AACAD,iBAASE,YAAT,CAAsB,KAAtB;;AAEAP,eAAOQ,kBAAP,CAA0BC,MAA1B,CAAiCT,OAAOU,SAAP,CAAiBC,gBAAlD,EAAmE,KAAKC,cAAxE,EAAuF,IAAvF;AACA,aAAKA,cAAL;AACAC,YAAIC,QAAJ,CAAaC,IAAb;AACH,KA1BI;;AA4BLH,oBAAe,0BAAU;AACrB,YAAGZ,OAAOgB,MAAP,CAAcC,QAAd,CAAuBC,SAAvB,IAAoC,IAAvC,EAA4C;AACxClB,mBAAOmB,WAAP,CAAmBC,cAAnB,CAAkCpB,OAAOgB,MAAP,CAAcC,QAAd,CAAuBC,SAAzD;AACH;AACD,aAAK3B,YAAL,CAAkB8B,MAAlB,GAA2B,MAAIrB,OAAOgB,MAAP,CAAcM,OAA7C;AACH,KAjCI;;AAmCLC,mBAAc,yBAAU;AACpB,YAAIC,eAAelB,QAAQ,cAAR,CAAnB;AACA,YAAImB,aAAa;AACbC,sBAAW,IAAIC,IAAJ,EAAD,CAAaC,OAAb;AADG,SAAjB;AAGA5B,eAAOwB,YAAP,CAAoBK,UAApB,CAA+B,KAA/B;AACH,KAzCI;;AA2CLC,sBAAiB,4BAAU;AACvBjC,aAAKC,KAAL,CAAWC,SAAX,CAAqBC,OAAOC,SAAP,CAAiB8B,SAAtC,EAAiD,CAAC,cAAD,CAAjD;AACA,YAAI/B,OAAOmB,WAAP,CAAmBa,aAAnB,CAAiChC,OAAOiC,YAAxC,CAAJ,EAA2D;AACvDjC,mBAAOmB,WAAP,CAAmBe,QAAnB;AACH,SAFD,MAEO;AACHlC,mBAAOmB,WAAP,CAAmBgB,QAAnB;AACH;AACJ,KAlDI;;AAoDLC,uBAAkB,6BAAU;AACxBvC,aAAKC,KAAL,CAAWC,SAAX,CAAqBC,OAAOC,SAAP,CAAiBoC,UAAtC,EAAkD,CAAC,gBAAD,CAAlD;AACArC,eAAOmB,WAAP,CAAmBmB,UAAnB,CAA8B,EAA9B;AACH,KAvDI;;AAyDLC,sBAAiB,4BAAU;AACvBvC,eAAOwB,YAAP,CAAoBK,UAApB,CAA+B,KAA/B,EAAqC,KAAKW,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAArC,EAAsE,KAAKC,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAAtE;AACH,KA3DI;;AA6DLD,sBAAiB,0BAASG,MAAT,EAAgBC,WAAhB,EAA4B;AACzC5C,eAAO6C,IAAP,CAAY,+DAA+DC,KAAKC,SAAL,CAAeH,WAAf,CAA3E;AACA5C,eAAOmB,WAAP,CAAmBmB,UAAnB,CAA8BM,WAA9B;AACA;AACH,KAjEI;;AAmELF,mBAAc,yBAAU;AACpB1C,eAAOmB,WAAP,CAAmB6B,SAAnB,CAA6B,OAA7B;AACH,KArEI;;AAuELC,eAAU,qBAAY;AAClBjD,eAAOQ,kBAAP,CAA0B0C,WAA1B,CAAsC,IAAtC;AACArC,YAAIC,QAAJ,CAAaqC,IAAb;AACH;;AA1EI,CAAT","file":"seq_begin.js","sourceRoot":"../../../../../assets/Scripts/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        versionLabel:cc.Label,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad:function(){\n        tcpManager.websocket.init();\n        // tcpManager.sendCmd.lisiner();\n        // tcpManager.receiveCmd.boot();\n        // wxGame.AudioManager.isPlayMusic(true);\n\n        tywx.BiLog.clickStat(wxGame.biManager.enterGame, [\"seq_begin\"]);\n\n        wxGame.AudioManager.loadNode();\n\n        // tcpManager.sendCmd.getUserInfoForShot();\n        var ThirdAPI = require('../common/ThirdAPI');\n        ThirdAPI.showGameClub(false);\n\n        wxGame.NotificationCenter.listen(wxGame.EventType.UPDATE_USER_INFO,this.updateUserInfo,this);\n        this.updateUserInfo();\n        ctr.addGuide.show();\n    },\n\n    updateUserInfo:function(){\n        if(wxGame.Global.gameInfo.max_score != null){\n            wxGame.GlobalFuncs.upDateRankData(wxGame.Global.gameInfo.max_score);\n        }\n        this.versionLabel.string = \"v\"+wxGame.Global.version;\n    },\n\n    onClickTopBtn:function(){\n        var shareManager = require('shareManager');\n        var extraParam = {\n            sendTime: (new Date()).getTime()\n        };\n        wxGame.shareManager.sharePoint(\"573\");\n    },\n\n    onClickBottomBtn:function(){\n        tywx.BiLog.clickStat(wxGame.biManager.startGame, [\"mainPlayGame\"]);\n        if (wxGame.GlobalFuncs.isEmptyObject(wxGame.saveGameInfo)) {\n            wxGame.GlobalFuncs.playGame();\n        } else {\n            wxGame.GlobalFuncs.recordUI();\n        }\n    },\n\n    onClickFriendRank:function(){\n        tywx.BiLog.clickStat(wxGame.biManager.friendRank, [\"mainFriendRank\"]);\n        wxGame.GlobalFuncs.showRankUI(\"\");\n    },\n\n    onClickGroupRank:function(){\n        wxGame.shareManager.sharePoint(\"574\",this.RankShareSuccess.bind(this),this.RankShareFail.bind(this));\n    },\n\n    RankShareSuccess:function(openId,shareTicket){\n        wxGame.LOGE(\"file = [seq_begin] fun = [RankShareSuccess] shareTicket = \" + JSON.stringify(shareTicket));\n        wxGame.GlobalFuncs.showRankUI(shareTicket);\n        // wxGame.shareManager.resultType = 0;\n    },\n\n    RankShareFail:function(){\n        wxGame.GlobalFuncs.showToast(\"分享失败!\");\n    },\n    \n    onDestroy:function () {\n        wxGame.NotificationCenter.ignoreScope(this);\n        ctr.addGuide.hide();\n    }\n    \n});\n"]}