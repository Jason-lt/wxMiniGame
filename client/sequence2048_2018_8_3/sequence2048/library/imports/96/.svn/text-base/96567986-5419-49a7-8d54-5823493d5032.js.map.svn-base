{"version":3,"sources":["../../../../../assets/Scripts/component/assets/Scripts/component/itemView.js"],"names":["cc","Class","extends","Component","properties","numSpreite","Sprite","lastSprite","numSpriteFrame","SpriteFrame","bombSpr","Node","powerFul","undo","kuang","lizi","onLoad","interTime","score","propType","isGridSelect","setPosition","p","getComponent","stopSystem","node","active","wxGame","NotificationCenter","listen","EventType","HIDE_GRID_KUANG","ShowKunag","isPropCard","isSHow","setIsGridSelect","setScore","isMerge","itemScoreConfig","GameConfig","setOpacity","setScale","scoreConfig","createCardConfig","Global","gameInfo","bombCard","GlobalFuncs","randomForArray","powerfulCard","undoCard","spriteFrame","index","indexOf","setProp","mergeAni","aniOVerFunc","ani","Animation","anim_h","getAnimationState","stop","anim","that","once","play","clearProp","selectAni","trigger","MERGE_ITEM_SCORE","bombAni","ani_2","anim_2","resetSystem","gameOverRemove","getScore","setPropType","getIsPropCard","getProp","setItemPosition","pos","stopAllActions","getRootNode","isSelect","getIsGridSelect","moveToPos","move","moveTo","runAction","moveLeftToPos","move_1","x","y","move_2","sequence","moveToPosMerge","callFunc","myAction","onMergeRemoveItem","grid","item","PUT_CARD_POOL","setItemZOrder","tag","setLocalZOrder","removeeAni","ani_1","anim_1","onDestroy","ignoreScope"],"mappings":"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","file":"itemView.js","sourceRoot":"../../../../../assets/Scripts/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        numSpreite:cc.Sprite,\n        lastSprite:cc.Sprite,\n        numSpriteFrame:[cc.SpriteFrame],\n        bombSpr:cc.Node,\n        powerFul:cc.Node,\n        undo:cc.Node,\n        kuang:cc.Node,\n        lizi:cc.Node,\n    },\n\n    onLoad:function(){\n        this.interTime = 0.2;\n        this.score = 0;\n\n        this.propType = 0;\n        this.isGridSelect = false;\n        this.lizi.setPosition(cc.p(0,0));\n        this.lizi.getComponent('cc.ParticleSystem').stopSystem();\n        this.numSpreite.node.active = false;\n\n        wxGame.NotificationCenter.listen(wxGame.EventType.HIDE_GRID_KUANG,this.ShowKunag,this);\n        this.isPropCard = 0;\n        // stopSystem\n    },\n\n    ShowKunag:function(isSHow){\n        if (this.kuang) {\n            this.kuang.active = isSHow;\n            if (!isSHow) {\n                this.setIsGridSelect(false);\n            }\n        }\n    },\n\n    setScore:function(score,isMerge){\n        var itemScoreConfig = wxGame.GameConfig.itemScoreConfig;\n        this.lizi.setPosition(cc.p(0,0));\n        this.lizi.getComponent('cc.ParticleSystem').stopSystem();\n        this.lizi.active = false;\n        this.lastSprite.node.active = true;\n        this.lastSprite.node.setOpacity(255);\n        this.lastSprite.node.setScale(1);\n        this.numSpreite.node.active = false;\n\n        this.propType = 0;\n\n        var scoreConfig = wxGame.GameConfig.createCardConfig;\n        if (score == wxGame.Global.gameInfo.bombCard){   //炸弹\n            this.propType = score;\n            score = wxGame.GlobalFuncs.randomForArray(scoreConfig);\n        }else if (score == wxGame.Global.gameInfo.powerfulCard) {    //万能\n            this.propType = score;\n            // score = wxGame.GlobalFuncs.randomForArray(scoreConfig);\n        }else if (score == wxGame.Global.gameInfo.undoCard) {    //撤销\n            this.propType = score;\n            score = wxGame.GlobalFuncs.randomForArray(scoreConfig);\n        }\n\n        this.numSpreite.spriteFrame = this.lastSprite.spriteFrame;\n\n        this.score = score;\n        if (itemScoreConfig) {\n            var index = itemScoreConfig.indexOf(score);\n            if (index >= 0 && this.numSpriteFrame[index]) {\n                this.lastSprite.spriteFrame = this.numSpriteFrame[index];\n            }\n        }\n\n        this.setProp();\n    },\n\n    //合并特效\n    mergeAni:function(aniOVerFunc){\n        this.lastSprite.node.active = true;\n        this.numSpreite.node.active = true;\n\n        var ani = this.node.getComponent(cc.Animation);\n        var anim_h = ani.getAnimationState('2048_fangzhi');\n        anim_h.stop();\n\n        var anim = ani.getAnimationState('2048_hebing');\n        var that = this;\n        anim.once(\"finished\", function () {\n            if (aniOVerFunc) {\n                aniOVerFunc();\n            }\n\n        });\n        anim.play();\n        that.clearProp();\n    },\n\n    clearProp:function(){\n        this.isPropCard = 0;\n    },\n\n    //放置特效\n    selectAni:function(){\n        this.lastSprite.node.active = true;\n        this.numSpreite.node.active = false;\n        var ani = this.node.getComponent(cc.Animation);\n        var anim_h = ani.getAnimationState('2048_hebing');\n        anim_h.stop();\n        var anim = ani.getAnimationState('2048_fangzhi');\n        anim.once(\"finished\", function () {\n            wxGame.NotificationCenter.trigger(wxGame.EventType.MERGE_ITEM_SCORE);\n        });\n        anim.play();\n    },\n\n    //爆炸动画\n    bombAni:function(){\n        this.bombSpr.active = false;\n        // this.powerFul.active = false;\n        this.lizi.active = true;\n        var ani_2 = this.node.getComponent(cc.Animation);\n        var anim_2 = ani_2.getAnimationState('2048_hebing');\n        anim_2.stop();\n\n        // this.lizi.resetSystem();\n        this.lizi.getComponent('cc.ParticleSystem').resetSystem();\n        this.lastSprite.node.active = true;\n        this.numSpreite.node.active = false;\n        var ani = this.node.getComponent(cc.Animation);\n        var anim = ani.getAnimationState('2048_baozha');\n        var that = this;\n        anim.once(\"finished\", function () {\n            // that.lizi.destroy();\n            that.gameOverRemove();\n        });\n\n        anim.play();\n    },\n\n    getScore:function(){\n        return this.score;\n    },\n\n    setPropType:function(propType){\n        this.propType = propType;\n        this.setProp();\n    },\n\n    setProp:function(){\n\n        if (this.propType == 0){\n            this.bombSpr.active = false;\n            this.powerFul.active = false;\n            this.undo.active = false;\n        }else if (this.propType == wxGame.Global.gameInfo.bombCard) {\n            this.bombSpr.active = true;\n            this.powerFul.active = false;\n            this.undo.active = false;\n            this.isPropCard = this.propType;\n        }else if (this.propType == wxGame.Global.gameInfo.powerfulCard) {\n            this.bombSpr.active = false;\n            this.powerFul.active = true;\n            this.undo.active = false;\n            this.isPropCard = this.propType;\n        }else if (this.propType == wxGame.Global.gameInfo.undoCard) {\n            this.bombSpr.active = false;\n            this.powerFul.active = false;\n            this.undo.active = true;\n            this.isPropCard = this.propType;\n        }\n    },\n\n    getIsPropCard:function(){\n        return this.isPropCard;\n    },\n\n    getProp:function(){\n        return this.propType;\n    },\n\n    \n    setItemPosition:function(pos){\n        this.node.stopAllActions();\n        this.node.setPosition(pos);\n    },\n\n    getRootNode:function(){\n        return this.node;\n    },\n\n    setIsGridSelect:function(isSelect){\n        this.isGridSelect = isSelect;\n    },\n\n    getIsGridSelect:function(){\n        return this.isGridSelect;\n    },\n\n    moveToPos:function(pos){\n        this.node.stopAllActions();\n        var move = cc.moveTo(this.interTime,pos);\n        this.node.runAction(move);\n    },\n\n    moveLeftToPos:function(pos){\n        this.node.stopAllActions();\n        var move_1 = cc.moveTo(this.interTime/3*2,cc.p(pos.x - 30,pos.y));\n        var move_2 = cc.moveTo(this.interTime/3,cc.p(pos.x,pos.y));\n        this.node.runAction(cc.sequence(move_1,move_2));\n    },\n\n    moveToPosMerge:function(pos,callFunc){\n        this.node.stopAllActions();\n        var move = cc.moveTo(this.interTime,pos);\n        var myAction = cc.sequence(move,cc.callFunc(function () {\n            if (callFunc) {\n                callFunc();\n            }\n        }));\n        this.node.runAction(myAction);\n    },\n\n    //合并移除多余的一个牌\n    onMergeRemoveItem:function(grid){\n        this.isPropCard = null;\n        this.gameOverRemove();\n        if (grid) {\n            grid.item = null;\n        }\n        // wxGame.NotificationCenter.trigger(wxGame.EventType.MERGE_ITEM_SCORE);\n    },\n\n    //游戏结束销毁卡牌\n    gameOverRemove:function(){\n        this.node.stopAllActions();\n        wxGame.NotificationCenter.trigger(wxGame.EventType.PUT_CARD_POOL,this.node);\n        // this.node.destroy();\n    },\n\n    setItemZOrder:function(tag){\n        this.node.setLocalZOrder(tag);\n    },\n\n    removeeAni:function(){\n        var ani_1 = this.node.getComponent(cc.Animation);\n        var anim_1 = ani_1.getAnimationState('2048_hebing');\n        anim_1.stop();\n\n        var anim = ani_1.getAnimationState('2048_baozha');\n        anim.stop();\n\n        var anim_2 = ani_1.getAnimationState('2048_fangzhi');\n        anim_2.stop();\n\n        this.gameOverRemove();\n    },\n\n    onDestroy:function () {\n        wxGame.NotificationCenter.ignoreScope(this);\n    }\n});\n"]}