{"version":3,"sources":["../../../../../assets/Scripts/ui/assets/Scripts/ui/seq_huode_card.js"],"names":["cc","Class","extends","Component","properties","propCard","Sprite","propCardSpriteFrame","SpriteFrame","onLoad","ani","node","getComponent","Animation","anim","getAnimationState","that","isAction","once","play","tywx","Timer","setTimer","onClose","bind","setPropCard","index","propIndex","spriteFrame","wxGame","NotificationCenter","trigger","EventType","UPDATE_GET_PROP","GET_PROP_CARD_ANI","stop","cancelTimer","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,6BAAoB,CAACP,GAAGQ,WAAJ;;AAFZ,KAHP;;AASLC,YAAO,kBAAU;AACb,YAAIC,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,SAA1B,CAAV;AACA,YAAIC,OAAOJ,IAAIK,iBAAJ,CAAsB,YAAtB,CAAX;AACA,YAAIC,OAAO,IAAX;AACAA,aAAKC,QAAL,GAAgB,IAAhB;AACAH,aAAKI,IAAL,CAAU,UAAV,EAAsB,YAAY;AAC9BF,iBAAKC,QAAL,GAAgB,KAAhB;AACH,SAFD;;AAIAH,aAAKK,IAAL;AACAC,aAAKC,KAAL,CAAWC,QAAX,CAAoBN,IAApB,EAA0BA,KAAKO,OAAL,CAAaC,IAAb,CAAkBR,IAAlB,CAA1B,EAAmD,GAAnD;AACH,KApBI;;AAsBLS,iBAAY,qBAASC,KAAT,EAAe;AACvB,aAAKC,SAAL,GAAiBD,KAAjB;AACA,YAAI,KAAKnB,mBAAL,CAAyBmB,KAAzB,CAAJ,EAAqC;AACjC,iBAAKrB,QAAL,CAAcuB,WAAd,GAA4B,KAAKrB,mBAAL,CAAyBmB,KAAzB,CAA5B;AACH;AACD,gBAAQA,KAAR;AACI,iBAAK,CAAL;AAAY;AACRG,uBAAOC,kBAAP,CAA0BC,OAA1B,CAAkCF,OAAOG,SAAP,CAAiBC,eAAnD,EAAmEP,KAAnE;AACA;AACJ,iBAAK,CAAL;AAAY;AACRG,uBAAOC,kBAAP,CAA0BC,OAA1B,CAAkCF,OAAOG,SAAP,CAAiBC,eAAnD,EAAmEP,KAAnE;AACA;AACJ,iBAAK,CAAL;AAAW;;AAEP;AATR;AAWH,KAtCI;;AAwCLH,aAAQ,mBAAU;AACd,YAAI,KAAKN,QAAT,EAAmB;AACf;AACH;;AAED,YAAI,KAAKU,SAAL,IAAkB,IAAtB,EAA2B;AACvBE,mBAAOC,kBAAP,CAA0BC,OAA1B,CAAkCF,OAAOG,SAAP,CAAiBE,iBAAnD,EAAqE,KAAKP,SAA1E;AACH;;AAED,YAAIjB,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,SAA1B,CAAV;AACA,YAAIC,OAAOJ,IAAIK,iBAAJ,CAAsB,YAAtB,CAAX;AACAD,aAAKqB,IAAL;AACAf,aAAKC,KAAL,CAAWe,WAAX,CAAuB,IAAvB,EAA4B,YAAU,CAAE,CAAxC;AACA,aAAKzB,IAAL,CAAU0B,OAAV;AAEH;;AAED;AAzDK,CAAT","file":"seq_huode_card.js","sourceRoot":"../../../../../assets/Scripts/ui","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        propCard:cc.Sprite,\n        propCardSpriteFrame:[cc.SpriteFrame],\n\n    },\n\n    onLoad:function(){\n        var ani = this.node.getComponent(cc.Animation);\n        var anim = ani.getAnimationState('2048_huode');\n        var that = this;\n        that.isAction = true;\n        anim.once(\"finished\", function () {\n            that.isAction = false;\n        });\n\n        anim.play();\n        tywx.Timer.setTimer(that, that.onClose.bind(that), 1.5);\n    },\n\n    setPropCard:function(index){\n        this.propIndex = index;\n        if (this.propCardSpriteFrame[index]) {\n            this.propCard.spriteFrame = this.propCardSpriteFrame[index];\n        }\n        switch (index) {\n            case 0:     //炸弹道具\n                wxGame.NotificationCenter.trigger(wxGame.EventType.UPDATE_GET_PROP,index);\n                break;\n            case 1:     //万能牌\n                wxGame.NotificationCenter.trigger(wxGame.EventType.UPDATE_GET_PROP,index);\n                break;\n            case 2:    //交换道具\n\n                break;\n        }\n    },\n\n    onClose:function(){\n        if (this.isAction) {\n            return\n        }\n\n        if (this.propIndex != null){\n            wxGame.NotificationCenter.trigger(wxGame.EventType.GET_PROP_CARD_ANI,this.propIndex);\n        }\n\n        var ani = this.node.getComponent(cc.Animation);\n        var anim = ani.getAnimationState('2048_huode');\n        anim.stop();\n        tywx.Timer.cancelTimer(this,function(){});\n        this.node.destroy();\n\n    },\n\n    // update (dt) {},\n});\n"]}