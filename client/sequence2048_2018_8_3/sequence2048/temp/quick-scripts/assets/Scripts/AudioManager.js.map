{"version":3,"sources":["AudioManager.js"],"names":["wxGame","AudioManager","loadNode","that","audioNode","cc","loader","loadRes","err","prefab","preFabNode","instantiate","game","addPersistRootNode","isPlayMusic","playEffect","eName","volume","com","getComponent","AudioType","bomb","btnEffect","leave","merge","powerful","select"],"mappings":";;;;;;AAAA;;;;AAIAA,OAAOC,YAAP,GAAsB;AAClBC,cAAU,oBAAU;AAChB,YAAIC,OAAO,IAAX;AACA,YAAI,CAACA,KAAKC,SAAV,EAAqB;AACjBC,eAAGC,MAAH,CAAUC,OAAV,CAAkB,kBAAlB,EAAsC,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AACzD,oBAAIC,aAAaL,GAAGM,WAAH,CAAeF,MAAf,CAAjB;AACAN,qBAAKC,SAAL,GAAiBM,UAAjB;AACAL,mBAAGO,IAAH,CAAQC,kBAAR,CAA2BH,UAA3B;AACAP,qBAAKW,WAAL,GAAmB,IAAnB;AACH,aALD;AAMH;AAEJ,KAZiB;;AAclBC,gBAAW,oBAASC,KAAT,EAAeC,MAAf,EAAsB;AAC7B,YAAI,CAAC,KAAKH,WAAN,IAAqB,CAAC,KAAKV,SAA/B,EAA0C;AACtC;AACH;AACD,YAAIc,MAAM,KAAKd,SAAL,CAAee,YAAf,CAA4B,WAA5B,CAAV;AACAD,YAAIH,UAAJ,CAAeC,KAAf,EAAqBC,MAArB;AACH;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CkB,CAAtB;;AA+CA;AACAjB,OAAOC,YAAP,CAAoBmB,SAApB,GAAgC;AAC5BC,UAAK,WADuB;AAE5BC,eAAU,UAFkB;AAG5BC,WAAM,YAHsB;AAI5BC,WAAM,YAJsB;AAK5BC,cAAS,eALmB;AAM5BC,YAAO;AANqB,CAAhC","file":"AudioManager.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["/*\n    音效管理\n */\n\nwxGame.AudioManager = {\n    loadNode: function(){\n        var that = this;\n        if (!that.audioNode) {\n            cc.loader.loadRes('prefab/audioNode', function (err, prefab) {\n                var preFabNode = cc.instantiate(prefab);\n                that.audioNode = preFabNode;\n                cc.game.addPersistRootNode(preFabNode);\n                that.isPlayMusic = true;\n            });\n        }\n\n    },\n    \n    playEffect:function(eName,volume){\n        if (!this.isPlayMusic || !this.audioNode) {\n            return;\n        }\n        var com = this.audioNode.getComponent(\"audioNode\");\n        com.playEffect(eName,volume);\n    },\n\n    // playMusic:function(mName,volume){\n    //     if (!this.isPlayMusic || !this.audioNode) {\n    //         return;\n    //     }\n    //\n    //     if (this.bgMusic && this.bgMusic > -1) {\n    //         cc.audioEngine.resume(this.bgMusic);\n    //     }\n    //\n    //     var that = this;\n    //     cc.loader.loadRes(\"audio/\" + mName, cc.AudioClip, function (err, clip) {\n    //         that.bgMusic = cc.audioEngine.play(clip, false, volume || 0.2);\n    //         cc.audioEngine.setLoop(that.bgMusic, true);\n    //         cc.audioEngine.setVolume(that.bgMusic, volume || 0.2); // 0.2\n    //         // var volume = cc.audioEngine.getVolume(that.bgMusic);\n    //     });\n    // },\n    //\n    // stopMusic:function(){\n    //     if (this.bgMusic > -1) {\n    //         cc.audioEngine.pause(this.bgMusic);\n    //     }\n    // },\n};\n\n//与audioNode 控件属性名一样\nwxGame.AudioManager.AudioType = {\n    bomb:\"bombAudio\",\n    btnEffect:\"btnAudio\",\n    leave:\"leaveAudio\",\n    merge:\"mergeAudio\",\n    powerful:\"powerfulAudio\",\n    select:\"selectAudio\",\n};\n"]}