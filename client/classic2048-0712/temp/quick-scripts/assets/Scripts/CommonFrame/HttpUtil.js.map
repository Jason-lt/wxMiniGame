{"version":3,"sources":["HttpUtil.js"],"names":["tywx","HttpUtil","httpPost","cfgObj","httpType","IsWechatPlatform","wx","request","url","data","postData","header","method","dataType","success","res","console","log","statusCode","hasOwnProperty","LOGD","fail","httpGet","successcb","failcb","JSON","stringify"],"mappings":";;;;;;AAAA;;;;AAIAA,KAAKC,QAAL,GAAgB;AACZC,cAAU,kBAAUC,MAAV,EAAkBC,QAAlB,EAA4B;AAClC,YAAIJ,KAAKK,gBAAL,EAAJ,EAA6B;AACzBC,eAAGC,OAAH,CAAW;AACPC,qBAAKL,OAAOK,GADL;AAEPC,sBAAMN,OAAOO,QAFN;AAGPC,wBAAQR,OAAOQ,MAHR;AAIPC,wBAAQ,MAJD;AAKPC,0BAAU,MALH;AAMPC,yBAAS,iBAAUC,GAAV,EAAe;AACpBC,4BAAQC,GAAR,CAAY,gCAAZ,EAA8CF,GAA9C;AACA,wBAAIA,IAAIG,UAAJ,IAAkB,GAAtB,EAA2B;AACvB;AACA,4BAAIH,IAAIN,IAAJ,IAAYM,IAAIN,IAAJ,CAASU,cAAT,CAAwB,uBAAxB,CAAZ,IACAJ,IAAIN,IAAJ,CAAS,uBAAT,KAAqC,IADzC,EAC+C;AAC3CT,iCAAKoB,IAAL,CAAU,sBAAV,EAAkC,gBAAlC;AACH;AACJ,qBAND,MAMO;AACHpB,6BAAKoB,IAAL,CAAU,sBAAV,EAAkC,gBAAgBL,IAAIG,UAAtD;AACH;AACJ,iBAjBM;AAkBPG,sBAAM,cAAUN,GAAV,EAAe;AACjBf,yBAAKoB,IAAL,CAAU,sBAAV,EAAkC,iBAAiBjB,OAAOK,GAA1D;AACH;AApBM,aAAX;AAsBH;AACJ,KA1BW;;AA4BZc,aAAS,iBAAUnB,MAAV,EAAkBoB,SAAlB,EAA6BC,MAA7B,EAAqC;AAC1C,YAAIxB,KAAKK,gBAAL,EAAJ,EAA6B;AACzBL,iBAAKoB,IAAL,CAAU,qBAAV,EAAiC,SAASjB,OAAOK,GAAjD;AACAF,eAAGC,OAAH,CAAW;AACPC,qBAAKL,OAAOK,GADL;AAEPI,wBAAQ,KAFD;AAGPE,yBAAS,iBAAUC,GAAV,EAAe;AACpB,wBAAIA,IAAIG,UAAJ,IAAkB,GAAtB,EAA2B;AACvBlB,6BAAKoB,IAAL,CAAU,qBAAV,EAAiC,SAASK,KAAKC,SAAL,CAAeX,IAAIN,IAAnB,CAA1C;AACA,4BAAIc,SAAJ,EAAe;AACXA,sCAAUR,IAAIN,IAAd;AACH;AACJ,qBALD,MAKO;AACHT,6BAAKoB,IAAL,CAAU,qBAAV,EAAiC,gBAAgBL,IAAIG,UAArD;AACH;AACJ,iBAZM;AAaPG,sBAAM,cAAUN,GAAV,EAAe;AACjBf,yBAAKoB,IAAL,CAAU,qBAAV,EAAiC,iBAAiBjB,OAAOK,GAAzD;AACA,wBAAIgB,MAAJ,EAAY;AACRA,+BAAOT,GAAP;AACH;AACJ;AAlBM,aAAX;AAoBH;AACJ;AApDW,CAAhB","file":"HttpUtil.js","sourceRoot":"../../../../../assets/Scripts/CommonFrame","sourcesContent":["/**\n * Created by xiaochuntian on 2018/5/2.\n */\n\ntywx.HttpUtil = {\n    httpPost: function (cfgObj, httpType) {\n        if (tywx.IsWechatPlatform()) {\n            wx.request({\n                url: cfgObj.url,\n                data: cfgObj.postData,\n                header: cfgObj.header,\n                method: 'POST',\n                dataType: 'json',\n                success: function (res) {\n                    console.log('tywx.HttpUtil.httpPost success', res);\n                    if (res.statusCode == 200) {\n                        //正常连接{\"/api/bilog5/clientlog\": \"ok\"}\n                        if (res.data && res.data.hasOwnProperty('/api/bilog5/clientlog') &&\n                            res.data['/api/bilog5/clientlog'] == \"ok\") {\n                            tywx.LOGD('ty.HttpUtil.httpPost', 'post success! ');\n                        }\n                    } else {\n                        tywx.LOGD('ty.HttpUtil.httpPost', 'statusCode:' + res.statusCode);\n                    }\n                },\n                fail: function (res) {\n                    tywx.LOGD('ty.HttpUtil.httpPost', 'post error! ' + cfgObj.url);\n                }\n            });\n        }\n    },\n\n    httpGet: function (cfgObj, successcb, failcb) {\n        if (tywx.IsWechatPlatform()) {\n            tywx.LOGD('ty.HttpUtil.httpGet', 'url:' + cfgObj.url);\n            wx.request({\n                url: cfgObj.url,\n                method: 'GET',\n                success: function (res) {\n                    if (res.statusCode == 200) {\n                        tywx.LOGD('ty.HttpUtil.httpGet', 'res:' + JSON.stringify(res.data));\n                        if (successcb) {\n                            successcb(res.data);\n                        }\n                    } else {\n                        tywx.LOGD('ty.HttpUtil.httpGet', 'statusCode:' + res.statusCode);\n                    }\n                },\n                fail: function (res) {\n                    tywx.LOGD('ty.HttpUtil.httpGet', 'post error! ' + cfgObj.url);\n                    if (failcb) {\n                        failcb(res);\n                    }\n                }\n            });\n        }\n    }\n};"]}