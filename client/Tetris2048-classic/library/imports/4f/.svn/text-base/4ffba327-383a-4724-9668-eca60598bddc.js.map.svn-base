{"version":3,"sources":["../../../../../assets/Scripts/common/assets/Scripts/common/wxRewardVideoAd.js"],"names":["wxRewardVideoAd","videoAd","initCreateReward","onCLoseCallback","wx","console","log","createRewardedVideoAd","adUnitId","load","then","show","catch","err","errMsg","offClose","onClose","res","undefined","isEnded","onError","Global","game","showDialogText","error","onEnabled","module","exports"],"mappings":";;;;;;AAAA;;;;;AAKA,IAAIA,kBAAkB;AAClBC,aAAS,IADS;;AAGlBC,sBAAkB,0BAAUC,eAAV,EAA2B;AACzC,YAAI,OAAOC,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAI;AACAC,wBAAQC,GAAR,CAAY,uBAAZ;AACA,oBAAIL,UAAUG,GAAGG,qBAAH,CAAyB;AACnCC,8BAAU;AADyB,iBAAzB,CAAd;;AAIA;AACA;AACA;;;AAGAP,wBAAQQ,IAAR,GACKC,IADL,CACU;AAAA,2BAAMT,QAAQU,IAAR,EAAN;AAAA,iBADV,EAEKC,KAFL,CAEW,eAAO;AACVP,4BAAQC,GAAR,CAAY,gBAAZ,EAA8BO,IAAIC,MAAlC;AACA;AACA;AACH,iBANL;;AAQAb,wBAAQc,QAAR;AACAd,wBAAQe,OAAR,CAAgB,UAACC,GAAD,EAAS;AACrBZ,4BAAQC,GAAR,CAAY,6BAAZ,EAA2CW,GAA3C;AACA;;AAEA,wBAAIA,OAAOC,SAAX,EAAsB;AAClB,4BAAIf,eAAJ,EAAqB;AACjBA,4CAAgB,IAAhB;AACH;AACJ,qBAJD,MAIO;AACH,4BAAIA,eAAJ,EAAqB;AACjBA,4CAAgBc,IAAIE,OAApB;AACH;AACJ;AACJ,iBAbD;;AAeA;;;;AAIAlB,wBAAQmB,OAAR,CAAgB,eAAO;AACnBf,4BAAQC,GAAR,CAAY,UAAZ,EAAwBO,IAAIC,MAA5B;AACAO,2BAAOC,IAAP,CAAYC,cAAZ,CAA2B,QAA3B;AACA;AACA;AACH,iBALD;AAMH,aA7CD,CA6CE,OAAOC,KAAP,EAAc,CAEf;AACJ;AACJ,KAtDiB;;AAwDlBC,eAAW,qBAAY,CAEtB;;AAGD;;;;;;;;;;;;;;;;;;;;;AA7DkB,CAAtB;;AAuFAC,OAAOC,OAAP,GAAiB3B,eAAjB","file":"wxRewardVideoAd.js","sourceRoot":"../../../../../assets/Scripts/common","sourcesContent":["/*\n * file : LinkImages.js\n * brief: This file can link images on different platforms.\n */\n\nlet wxRewardVideoAd = {\n    videoAd: null,\n\n    initCreateReward: function (onCLoseCallback) {\n        if (typeof wx !== 'undefined') {\n            try {\n                console.log('call initCreateReward');\n                let videoAd = wx.createRewardedVideoAd({\n                    adUnitId: 'adunit-356fcdcf215b46eb'\n                })\n    \n                //videoAd.load()\n                // .then(() => videoAd.show())\n                // .catch(err => console.log(err.errMsg))\n    \n    \n                videoAd.load()\n                    .then(() => videoAd.show())\n                    .catch(err => {\n                        console.log('ad load faild:', err.errMsg)\n                        // videoAd.load()\n                        //     .then(() => videoAd.show())\n                    })\n    \n                videoAd.offClose();\n                videoAd.onClose((res) => {\n                    console.log('==> wxRewardVideoAd onClose', res);\n                    // 用户点击了【关闭广告】按钮\n                    \n                    if (res == undefined) {\n                        if (onCLoseCallback) {\n                            onCLoseCallback(true);\n                        }\n                    } else {\n                        if (onCLoseCallback) {\n                            onCLoseCallback(res.isEnded);\n                        }\n                    }\n                })\n    \n                /*videoAd.onLoad(() => {\n                    console.log('激励 广告加载成功')\n                    videoAd.show();\n                })*/\n                videoAd.onError(err => {\n                    console.log('onError:', err.errMsg)\n                    Global.game.showDialogText('拉取数据失败');\n                    // videoAd.load()\n                    //     .then(() => videoAd.show())\n                })\n            } catch (error) {\n                \n            }\n        }\n    },\n\n    onEnabled: function () {\n\n    },\n\n\n    /*\n        videoAdOnLoad: function (onCLoseCallback) {\n            this.videoAd.load();\n\n            this.videoAd.onLoad(() => {\n                console.log('激励 广告加载成功')\n                videoAd.show();\n            })\n\n            this.videoAd.onClose(() => {\n                // 用户点击了【关闭广告】按钮\n                if (onCLoseCallback) {\n                    onCLoseCallback();\n                }\n            })\n\n            this.videoAd.onError(err => {\n                console.log(err.errMsg)\n                videoAd.load()\n                    .then(() => videoAd.show())\n            })\n        },\n    */\n\n}\n\nmodule.exports = wxRewardVideoAd;"]}