{"version":3,"sources":["../../../../../assets/Scripts/ui/assets/Scripts/ui/rankItem.js"],"names":["cc","Class","extends","Component","properties","bg","default","type","Node","photo","Sprite","fbname","Label","score","level","levelIcon","hideAll","setCascadeOpacityEnabled","setOpacity","string","setVisible","setScore","setNameAndPhoto","strnamephoto","self","startIndx","indexOf","substring","fbphoto","loader","load","err","texture","spriteFrame","SpriteFrame","setlevel","LoadAlas","require","icon","getSpriteFrameFromName"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAI;AACAC,qBAAS,IADT;AAEAC,kBAAMP,GAAGQ;AAFT,SADI;AAKRC,eAAO;AACHH,qBAAS,IADN;AAEHC,kBAAMP,GAAGU;AAFN,SALC;AASRC,gBAAQ;AACJL,qBAAS,IADL;AAEJC,kBAAMP,GAAGY;AAFL,SATA;AAaRC,eAAO;AACHP,qBAAS,IADN;AAEHC,kBAAMP,GAAGY;AAFN,SAbC;AAiBRE,eAAO;AACHR,qBAAS,IADN;AAEHC,kBAAMP,GAAGY;AAFN,SAjBC;AAqBRG,mBAAW;AACPT,qBAAS,IADF;AAEPC,kBAAMP,GAAGU;AAFF;AArBH,KAHP;;AA8BLM,aAAS,mBAAY;AAClB;AACC;AACA;;AAEA,aAAKX,EAAL,CAAQY,wBAAR,CAAiC,IAAjC;AACA,aAAKZ,EAAL,CAAQa,UAAR,CAAmB,MAAM,GAAzB;AACA,aAAKL,KAAL,CAAWM,MAAX,GAAoB,EAApB;AACA,aAAKR,MAAL,CAAYQ,MAAZ,GAAqB,EAArB;AACA,aAAKV,KAAL,CAAWW,UAAX,CAAsB,KAAtB;AACH,KAxCI;;AA0CLC,cAAU,kBAAUR,KAAV,EAAiB;AACvB,aAAKA,KAAL,CAAWM,MAAX,GAAoBN,KAApB;AACH,KA5CI;;AA8CLS,qBAAiB,yBAAUC,YAAV,EAAwB;AACrC,YAAIC,OAAO,IAAX;AACA,YAAIC,YAAYF,aAAaG,OAAb,CAAqB,GAArB,CAAhB;AACA,YAAID,YAAY,CAAhB,EAAmB;AACf,gBAAId,SAASY,aAAaI,SAAb,CAAuB,CAAvB,EAA0BF,SAA1B,CAAb;AACA,gBAAIG,UAAUL,aAAaI,SAAb,CAAuBF,YAAY,CAAnC,CAAd;AACA,iBAAKhB,KAAL,CAAWW,UAAX,CAAsB,IAAtB;;AAEA,iBAAKT,MAAL,CAAYQ,MAAZ,GAAqBR,MAArB;AACAX,eAAG6B,MAAH,CAAUC,IAAV,CAAeF,OAAf,EAAwB,UAACG,GAAD,EAAMC,OAAN,EAAkB;AACtCR,qBAAKf,KAAL,CAAWwB,WAAX,GAAyB,IAAIjC,GAAGkC,WAAP,CAAmBF,OAAnB,CAAzB;AACH,aAFD;AAGH;AACJ,KA3DI;;AA6DLG,cAAU,kBAAUrB,KAAV,EAAiB;AACvB,aAAKA,KAAL,CAAWK,MAAX,GAAoBL,KAApB;AACA,YAAIsB,WAAWC,QAAQ,WAAR,CAAf;AACA,YAAIC,OAAO,EAAX;;AAEA,YAAIxB,QAAQ,CAAR,IAAaA,SAAS,CAA1B,EAA6B;AACzBwB,mBAAO,UAAUxB,KAAjB;AACH;;AAED,YAAIwB,QAAQ,EAAZ,EAAgB;AACZ,iBAAKvB,SAAL,CAAeK,UAAf,CAA0B,KAA1B;AACH,SAFD,MAEO;AACH,iBAAKL,SAAL,CAAeK,UAAf,CAA0B,IAA1B;AACA,iBAAKL,SAAL,CAAekB,WAAf,GAA6BG,SAASG,sBAAT,CAAgC,yBAAhC,EAA2DD,IAA3D,CAA7B;AACH;AACJ;AA5EI,CAAT","file":"rankItem.js","sourceRoot":"../../../../../assets/Scripts/ui","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bg: {\n            default: null,\n            type: cc.Node,\n        },\n        photo: {\n            default: null,\n            type: cc.Sprite,\n        },\n        fbname: {\n            default: null,\n            type: cc.Label,\n        },\n        score: {\n            default: null,\n            type: cc.Label,\n        },\n        level: {\n            default: null,\n            type: cc.Label,\n        },\n        levelIcon: {\n            default: null,\n            type: cc.Sprite,\n        },\n    },\n\n    hideAll: function () {\n       // this.bg.node.setLocalZOrder(-1);\n        //this.levelIcon.setVisible(false);\n        //this.level.string = '';\n\n        this.bg.setCascadeOpacityEnabled(true);\n        this.bg.setOpacity(255 * 0.3);\n        this.score.string = '';\n        this.fbname.string = '';\n        this.photo.setVisible(false);\n    },\n\n    setScore: function (score) {\n        this.score.string = score;\n    },\n\n    setNameAndPhoto: function (strnamephoto) {\n        var self = this;\n        var startIndx = strnamephoto.indexOf('_');\n        if (startIndx > 0) {\n            var fbname = strnamephoto.substring(0, startIndx);\n            var fbphoto = strnamephoto.substring(startIndx + 1);\n            this.photo.setVisible(true);\n\n            this.fbname.string = fbname;\n            cc.loader.load(fbphoto, (err, texture) => {\n                self.photo.spriteFrame = new cc.SpriteFrame(texture);\n            });\n        }\n    },\n\n    setlevel: function (level) {\n        this.level.string = level;\n        var LoadAlas = require(\"LoadAtlas\");\n        var icon = '';\n\n        if (level > 0 && level <= 3) {\n            icon = 'rank_' + level;\n        }\n\n        if (icon == '') {\n            this.levelIcon.setVisible(false);\n        } else {\n            this.levelIcon.setVisible(true);\n            this.levelIcon.spriteFrame = LoadAlas.getSpriteFrameFromName('textures/gridItem/items', icon);\n        }\n    },\n});"]}