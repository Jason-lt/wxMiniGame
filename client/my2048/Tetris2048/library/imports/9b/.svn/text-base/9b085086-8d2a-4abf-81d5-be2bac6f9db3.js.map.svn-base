{"version":3,"sources":["../../../../../assets/Scripts/common/assets/Scripts/common/wxRewardVideoAd.js"],"names":["wxRewardVideoAd","videoAd","initCreateReward","onCLoseCallback","wx","console","log","createRewardedVideoAd","adUnitId","load","then","show","catch","err","errMsg","offClose","onClose","res","undefined","isEnded","onError","Global","game","showDialogText","onEnabled","module","exports"],"mappings":";;;;;;AAAA;;;;;AAKA,IAAIA,kBAAkB;AAClBC,aAAS,IADS;;AAGlBC,sBAAkB,0BAAUC,eAAV,EAA2B;AACzC,YAAI,OAAOC,EAAP,KAAc,WAAlB,EAA+B;AAC3BC,oBAAQC,GAAR,CAAY,uBAAZ;AACA,gBAAIL,UAAUG,GAAGG,qBAAH,CAAyB;AACnCC,0BAAU;AADyB,aAAzB,CAAd;;AAIA;AACA;AACA;;;AAGAP,oBAAQQ,IAAR,GACKC,IADL,CACU;AAAA,uBAAMT,QAAQU,IAAR,EAAN;AAAA,aADV,EAEKC,KAFL,CAEW,eAAO;AACVP,wBAAQC,GAAR,CAAY,gBAAZ,EAA8BO,IAAIC,MAAlC;AACA;AACA;AACH,aANL;;AAQAb,oBAAQc,QAAR;AACAd,oBAAQe,OAAR,CAAgB,UAACC,GAAD,EAAS;AACrBZ,wBAAQC,GAAR,CAAY,6BAAZ,EAA2CW,GAA3C;AACA;;AAEA,oBAAIA,OAAOC,SAAX,EAAsB;AAClB,wBAAIf,eAAJ,EAAqB;AACjBA,wCAAgB,IAAhB;AACH;AACJ,iBAJD,MAIO;AACH,wBAAIA,eAAJ,EAAqB;AACjBA,wCAAgBc,IAAIE,OAApB;AACH;AACJ;AACJ,aAbD;;AAeA;;;;AAIAlB,oBAAQmB,OAAR,CAAgB,eAAO;AACnBf,wBAAQC,GAAR,CAAY,UAAZ,EAAwBO,IAAIC,MAA5B;AACAO,uBAAOC,IAAP,CAAYC,cAAZ,CAA2B,QAA3B;AACA;AACA;AACH,aALD;AAOH;AACJ,KAnDiB;;AAqDlBC,eAAW,qBAAY,CAEtB;;AAGD;;;;;;;;;;;;;;;;;;;;;AA1DkB,CAAtB;;AAoFAC,OAAOC,OAAP,GAAiB1B,eAAjB","file":"wxRewardVideoAd.js","sourceRoot":"../../../../../assets/Scripts/common","sourcesContent":["/*\n * file : LinkImages.js\n * brief: This file can link images on different platforms.\n */\n\nlet wxRewardVideoAd = {\n    videoAd: null,\n\n    initCreateReward: function (onCLoseCallback) {\n        if (typeof wx !== 'undefined') {\n            console.log('call initCreateReward');\n            let videoAd = wx.createRewardedVideoAd({\n                adUnitId: 'adunit-cadfea7f9bcdbcd8'\n            })\n\n            //videoAd.load()\n            // .then(() => videoAd.show())\n            // .catch(err => console.log(err.errMsg))\n\n\n            videoAd.load()\n                .then(() => videoAd.show())\n                .catch(err => {\n                    console.log('ad load faild:', err.errMsg)\n                    // videoAd.load()\n                    //     .then(() => videoAd.show())\n                })\n\n            videoAd.offClose();\n            videoAd.onClose((res) => {\n                console.log('==> wxRewardVideoAd onClose', res);\n                // 用户点击了【关闭广告】按钮\n                \n                if (res == undefined) {\n                    if (onCLoseCallback) {\n                        onCLoseCallback(true);\n                    }\n                } else {\n                    if (onCLoseCallback) {\n                        onCLoseCallback(res.isEnded);\n                    }\n                }\n            })\n\n            /*videoAd.onLoad(() => {\n                console.log('激励 广告加载成功')\n                videoAd.show();\n            })*/\n            videoAd.onError(err => {\n                console.log('onError:', err.errMsg)\n                Global.game.showDialogText('拉取数据失败');\n                // videoAd.load()\n                //     .then(() => videoAd.show())\n            })\n\n        }\n    },\n\n    onEnabled: function () {\n\n    },\n\n\n    /*\n        videoAdOnLoad: function (onCLoseCallback) {\n            this.videoAd.load();\n\n            this.videoAd.onLoad(() => {\n                console.log('激励 广告加载成功')\n                videoAd.show();\n            })\n\n            this.videoAd.onClose(() => {\n                // 用户点击了【关闭广告】按钮\n                if (onCLoseCallback) {\n                    onCLoseCallback();\n                }\n            })\n\n            this.videoAd.onError(err => {\n                console.log(err.errMsg)\n                videoAd.load()\n                    .then(() => videoAd.show())\n            })\n        },\n    */\n\n}\n\nmodule.exports = wxRewardVideoAd;"]}