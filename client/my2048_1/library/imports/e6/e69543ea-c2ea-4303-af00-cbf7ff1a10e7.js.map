{"version":3,"sources":["../../../../../assets/Scripts/common/assets/Scripts/common/LoadAtlas.js"],"names":["LoadAtlas","spriteAtlas","loadAtlasRes","atlasUrl","callBack","indexOf","self","cc","loader","loadRes","SpriteAtlas","err","atlas","resArray","getSpriteFrames","spriteArrays","i","length","spriteFrame","name","getSpriteFrameFromName","spriteName","loadPrefab","prefabName","Prefab","prefab","module","exports"],"mappings":";;;;;;AAAA,IAAIA,YAAY;AACZC,iBAAa,EADD;;AAGZ;AACAC,kBAAc,sBAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACxC,YAAI,KAAKH,WAAL,CAAiBI,OAAjB,CAAyBF,QAAzB,IAAqC,CAAC,CAA1C,EAA6C;AACzCC;AACA;AACH;AACD,YAAIE,OAAO,IAAX;AACAC,WAAGC,MAAH,CAAUC,OAAV,CAAkBN,QAAlB,EAA4BI,GAAGG,WAA/B,EAA4C,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC9D;AACA,gBAAIC,WAAWD,MAAME,eAAN,EAAf;AACA,gBAAIC,eAAe,EAAnB;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,SAASI,MAA7B,EAAqCD,GAArC,EAA0C;AACtC,oBAAIE,cAAcL,SAASG,CAAT,CAAlB;AACAD,6BAAaG,YAAYC,IAAzB,IAAiCD,WAAjC;AACH;AACDZ,iBAAKL,WAAL,CAAiBE,QAAjB,IAA6BY,YAA7B;AACAX;AACH,SAVD;AAWH,KArBW;;AAuBZ;AACAgB,4BAAwB,gCAAUjB,QAAV,EAAoBkB,UAApB,EAAgC;AACpD,eAAO,KAAKpB,WAAL,CAAiBE,QAAjB,EAA2BkB,UAA3B,CAAP;AACH,KA1BW;;AA4BZ;AACAC,gBAAY,oBAAUC,UAAV,EAAsBnB,QAAtB,EAAgC;AACxCG,WAAGC,MAAH,CAAUC,OAAV,CAAkB,YAAYc,UAA9B,EAA0ChB,GAAGiB,MAA7C,EAAqD,UAAUb,GAAV,EAAec,MAAf,EAAuB;AACxE,gBAAIrB,QAAJ,EAAc;AACVA,yBAASqB,MAAT;AACH;AACJ,SAJD;AAKH;AAnCW,CAAhB;;AAsCAC,OAAOC,OAAP,GAAiB3B,SAAjB","file":"LoadAtlas.js","sourceRoot":"../../../../../assets/Scripts/common","sourcesContent":["var LoadAtlas = {\n    spriteAtlas: [],\n\n    //导入一个资源\n    loadAtlasRes: function (atlasUrl, callBack) {\n        if (this.spriteAtlas.indexOf(atlasUrl) > -1) {\n            callBack();\n            return;\n        }\n        var self = this;\n        cc.loader.loadRes(atlasUrl, cc.SpriteAtlas, function (err, atlas) {\n            //图集精灵帧数组\n            var resArray = atlas.getSpriteFrames();\n            var spriteArrays = [];\n            for (var i = 0; i < resArray.length; i++) {\n                var spriteFrame = resArray[i];\n                spriteArrays[spriteFrame.name] = spriteFrame;\n            }\n            self.spriteAtlas[atlasUrl] = spriteArrays;\n            callBack();\n        });\n    },\n\n    //根据名称来获取一个精灵帧\n    getSpriteFrameFromName: function (atlasUrl, spriteName) {\n        return this.spriteAtlas[atlasUrl][spriteName];\n    },\n\n    //加载prefab资源\n    loadPrefab: function (prefabName, callBack) {\n        cc.loader.loadRes('prefab/' + prefabName, cc.Prefab, function (err, prefab) {\n            if (callBack) {\n                callBack(prefab);\n            }\n        });\n    },\n};\n\nmodule.exports = LoadAtlas;"]}