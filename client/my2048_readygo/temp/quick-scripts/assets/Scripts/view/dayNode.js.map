{"version":3,"sources":["dayNode.js"],"names":["ThirdAPI","require","cc","Class","extends","Component","properties","bg","Node","number","Label","selectBg","dayLabel","twoNode","threeNode","dayIndex","rewardSpr","Sprite","rewardSpriteFrame","SpriteFrame","onLoad","listenUtil","eventCtrl","addListen","updateState","bind","setDayIndex","index","dayIndexList","active","node","updateData","Global","singinRewardConfig","key","des","setNumber","setDayLabel","_getRewardList","loadGetRewardList","console","log","length","isGetReward","isSelect","setOpacity","num","string","spriteFrame","setScale","onDestroy","removeListen"],"mappings":"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","file":"dayNode.js","sourceRoot":"../../../../../assets/Scripts/view","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar ThirdAPI = require('../common/ThirdAPI');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bg:cc.Node,\n        number:cc.Label,\n        selectBg:cc.Node,\n        dayLabel:cc.Label,\n        twoNode:cc.Node,\n        threeNode:cc.Node,\n\n        dayIndex:\"\",\n        rewardSpr:cc.Sprite,\n        rewardSpriteFrame:[cc.SpriteFrame],\n    },\n\n    onLoad:function(){\n        listenUtil.eventCtrl.addListen('updateState', this.updateState.bind(this));\n    },\n    setDayIndex:function(index){\n        var dayIndexList = [\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\"];\n        this.dayIndex = dayIndexList[index];\n        if (index == 4){\n            this.twoNode.active = true;\n            this.rewardSpr.node.active = false;\n        }else if(index == 5){\n            this.threeNode.active = true;\n            this.rewardSpr.node.active = false;\n        }\n        this.updateData();\n    },\n    updateData:function(){\n        if (Global.singinRewardConfig){\n            for (var key in Global.singinRewardConfig){\n                if (key == this.dayIndex){\n                    if (Global.singinRewardConfig[key].des){\n                        this.setNumber(Global.singinRewardConfig[key].des);\n                    }\n                    this.setDayLabel();\n                    var _getRewardList = ThirdAPI.loadGetRewardList();\n                    console.log(\" 登录 key = \" + key);\n                    if (Global.singinRewardConfig[key].index <= _getRewardList.length){\n                        console.log(\"已领取index= \" + Global.singinRewardConfig[key].index);\n                        this.isGetReward(true);\n                    }\n                }\n            }\n        }\n    },\n\n    isGetReward:function(isSelect){\n        if (isSelect) {\n            this.bg.setOpacity(120);\n            this.selectBg.active = true;\n        }\n    },\n\n    setNumber:function(num){\n        this.number.string = num;\n        switch (num){\n            case \"富豪皮肤\":\n                this.rewardSpr.spriteFrame = this.rewardSpriteFrame[0];\n                this.rewardSpr.node.setScale(0.3);\n                break;\n            case \"甄嬛传皮肤\":\n                this.rewardSpr.spriteFrame = this.rewardSpriteFrame[1];\n                this.rewardSpr.node.setScale(0.3);\n                \n                break;\n            case \"脑残版皮肤\":\n                this.rewardSpr.spriteFrame = this.rewardSpriteFrame[2];\n                this.rewardSpr.node.setScale(0.3);\n                break;\n            case \"扑克版皮肤\":\n                this.rewardSpr.spriteFrame = this.rewardSpriteFrame[4];\n                this.rewardSpr.node.setScale(0.3);\n                break;\n            case \"复仇版皮肤\":\n                this.rewardSpr.spriteFrame = this.rewardSpriteFrame[3];\n                this.rewardSpr.node.setScale(0.3);\n                break;\n        }\n    },\n\n    setDayLabel:function(){\n        this.dayLabel.string = \"第\" + this.dayIndex + \"天\"\n    },\n\n    updateState:function(){\n        this.updateData();\n    },\n\n    onDestroy:function(){\n        listenUtil.eventCtrl.removeListen('updateState', this.updateState.bind(this));\n    },\n\n\n    // update (dt) {},\n});\n"]}