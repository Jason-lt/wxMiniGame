{"version":3,"sources":["../../../../../assets/Scripts/ui/assets/Scripts/ui/startUI.js"],"names":["ThirdAPI","require","wxRewardVideoAd","cc","Class","extends","Component","properties","score","default","type","Label","icon","Sprite","bg","soundOnBtn","Node","soundOffBtn","gemStone","Prefab","friendBtn","friendBtnLabel","adBtn","dailyLabel","goldNode","spriteMoreGame","backgroundAudio","url","AudioClip","rewardVideoAdBtn","keepDataNode","dailyBtn","layoutNode","version","currentBGM","reddot","onLoad","console","log","listenUtil","eventCtrl","addListen","cdnchange","bind","start","init","initAudio","active","params","showGameClub","checkLogin","setShowRewardVideoAd","updateBestScore","spriteFrame","getTexture","setAliasTexParameters","Global","isBGMPlaying","cdnGameConfig","string","time","Date","getTime","gameinfo","shareTime","shareTotalTimes","dailyTotalTimes","updateGold","moreGameRunAction","d","now","showRewardVideoAdDate","toDateString","showRewardVideoAdTimes","saveFriendGenStoneInfo","showTotalTimes","loginDateStr","node","rotation","stopAllActions","runAction","repeatForever","sequence","rotateBy","delayTime","audioEngine","play","setLoop","setVolume","volume","getVolume","isSoundPlaying","showChest","game","showPropDialog","showRedDot","ret","updateRedDot","addNum","wxGold","gold","parseInt","num","goldLabel","getChildByName","getComponent","startUI","wx","data","loadLocalScore","maxscore","loadScore","saveScore","wxScore","dailyBattleTimes","battleTimes","historyMaxScore","FBInstant","fbScore","onShareGame","playSound","pauseInterval","myUtil","shareGame","getImgBase64","onShareSuccess","onShareFail","shareToWx","shareToWXSuccess","biManager","bilog","shareToWX","showGroupRank","onShowRewardUI","showRewardUI","testAd","initCreateReward","onAdSuccess","onclose","startContinueConutDown","times","getSecondString","clearInterval","countDownInterval","setInterval","createGemstone","openGId","shareDate","resetInitData","shareTimes","shareTimesAndRewardVideoAd","getForTotalTimes","msg","undefined","showDialogText","addShareGame","onAddShareSuccess","addShare","shareData1","arrOpenGId","indexOf","push","startConfig","addStone","showDialogPropText","randomNum","addInterval","instance","instantiate","setPosition","p","addChild","pos","getPosition","toPosition","x","y","dialogForPropInfo","weightConfig","self","loader","loadRes","err","onPlay","isDailyLimit","parma","loadGameProgress","list","length","enterScene","startGame","keepDataEnterGame","restartGame","clearGameProgressInfo","closekeepData","dailyPlay","dailyConfig","onPlayDaily","totalSwith","onDailyShareSuccess","onDailyShareFail","onDailyAdSuccess","onDailyAdFail","dailyShare","showRankUI","showRank","onShowStore","showStore","onChallenge","shareUI","switchBGM","pauseBGM","playBGM","resume","pause","onMoreGame","LinkImages","linkImages","index","Math","floor","random0To1","httpStr","previewImage"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,QAAQ,oBAAR,CAAf;AACA,IAAIC,kBAAkBD,QAAQ,2BAAR,CAAtB;AACAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;AAKRC,cAAM;AACFH,qBAAS,IADP;AAEFC,kBAAMP,GAAGU;AAFP,SALE;AASRC,YAAI;AACAL,qBAAS,IADT;AAEAC,kBAAMP,GAAGU;AAFT,SATI;AAaRE,oBAAY;AACRN,qBAAS,IADD;AAERC,kBAAMP,GAAGa;AAFD,SAbJ;AAiBRC,qBAAa;AACTR,qBAAS,IADA;AAETC,kBAAMP,GAAGa;AAFA,SAjBL;AAqBR;AACAE,kBAAU;AACNT,qBAAS,IADH;AAENC,kBAAMP,GAAGgB;AAFH,SAtBF;AA0BRC,mBAAW;AACPX,qBAAS,IADF;AAEPC,kBAAMP,GAAGa;AAFF,SA1BH;AA8BRK,wBAAgB;AACZZ,qBAAS,IADG;AAEZC,kBAAMP,GAAGQ;AAFG,SA9BR;AAkCRW,eAAO;AACHb,qBAAS,IADN;AAEHC,kBAAMP,GAAGa;AAFN,SAlCC;AAsCRO,oBAAY;AACRd,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SAtCJ;AA0CR;AACAa,kBAAU;AACNf,qBAAS,IADH;AAENC,kBAAMP,GAAGa;AAFH,SA3CF;AA+CRS,wBAAgB;AACZhB,qBAAS,IADG;AAEZC,kBAAMP,GAAGU;AAFG,SA/CR;AAmDR;AACAa,yBAAiB;AACbC,iBAAKxB,GAAGyB,SADK;AAEbnB,qBAAS;AAFI,SApDT;AAwDR;AACAoB,0BAAkB;AACdpB,qBAAS,IADK;AAEdC,kBAAMP,GAAGa;AAFK,SAzDV;AA6DR;;;;;AAKA;AACAc,sBAAc;AACVrB,qBAAS,IADC;AAEVC,kBAAMP,GAAGa;AAFC,SAnEN;AAuER;AACAe,kBAAU;AACNtB,qBAAS,IADH;AAENC,kBAAMP,GAAGa;AAFH,SAxEF;AA4ERgB,oBAAY;AACRvB,qBAAS,IADD;AAERC,kBAAMP,GAAGa;AAFD,SA5EJ;AAgFRiB,iBAAS;AACLxB,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SAhFD;AAoFRuB,oBAAY,CAAC,CApFL;;AAsFR;AACAC,gBAAQ;AACJ1B,qBAAS,IADL;AAEJC,kBAAMP,GAAGa;AAFL;AAvFA,KAHP;;AAgGLoB,YAAQ,kBAAY;AAChBC,gBAAQC,GAAR,CAAY,iBAAZ;AACAC,mBAAWC,SAAX,CAAqBC,SAArB,CAA+B,WAA/B,EAA4C,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA5C;AACH,KAnGI;;AAqGLC,WAAO,iBAAY;AACfP,gBAAQC,GAAR,CAAY,gBAAZ;AACA,aAAKO,IAAL;AACA,aAAKC,SAAL;AACA,aAAKX,MAAL,CAAYY,MAAZ,GAAqB,KAArB;AACH,KA1GI;;AA4GLL,eAAW,mBAAUM,MAAV,EAAkB;AACzBX,gBAAQC,GAAR,CAAY,SAAZ;AACA;AACA;AACH,KAhHI;;AAkHLO,UAAM,gBAAY;AACd7C,iBAASiD,YAAT,CAAsB,IAAtB;AACA,aAAKC,UAAL;AACA,aAAKC,oBAAL;AACA,aAAKC,eAAL;AACA,aAAKxC,IAAL,CAAUyC,WAAV,CAAsBC,UAAtB,GAAmCC,qBAAnC;AACA,aAAKzC,EAAL,CAAQuC,WAAR,CAAoBC,UAApB,GAAiCC,qBAAjC;AACA,aAAKxC,UAAL,CAAgBgC,MAAhB,GAAyBS,OAAOC,YAAhC;AACA,aAAKxC,WAAL,CAAiB8B,MAAjB,GAA0B,CAACS,OAAOC,YAAlC;AACA;AACA,aAAK3B,YAAL,CAAkBiB,MAAlB,GAA2B,KAA3B;AACA;;AAEA,YAAIS,OAAOE,aAAP,IAAwBF,OAAOE,aAAP,CAAqBzB,OAAjD,EAA0D;AACtD,iBAAKA,OAAL,CAAa0B,MAAb,GAAsBH,OAAOE,aAAP,CAAqBzB,OAA3C;AACH;;AAED;AACA;;AAEA;;;AAGA;AACA,YAAI2B,OAAQ,IAAIC,IAAJ,EAAD,CAAaC,OAAb,KAAyBN,OAAOO,QAAP,CAAgBC,SAApD;AACA3B,gBAAQC,GAAR,CAAY,SAAZ,EAAuBkB,OAAOO,QAAP,CAAgBE,eAAvC,EAAwDT,OAAOU,eAA/D,EAAgFN,IAAhF;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,aAAKO,UAAL,CAAgB,CAAhB;AACA,aAAKC,iBAAL;AACH,KAnLI;;AAqLL;AACAjB,0BAAsB,gCAAY;AAC9B;AACA,YAAIkB,IAAI,IAAIR,IAAJ,CAASA,KAAKS,GAAL,EAAT,CAAR;AACA,YAAId,OAAOO,QAAP,CAAgBQ,qBAAhB,IAAyCF,EAAEG,YAAF,EAA7C,EAA+D;AAC3DhB,mBAAOO,QAAP,CAAgBU,sBAAhB,GAAyC,CAAzC;AACAjB,mBAAOO,QAAP,CAAgBQ,qBAAhB,GAAwCF,EAAEG,YAAF,EAAxC;AACAxE,qBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACH;AACD1B,gBAAQC,GAAR,CAAY,uBAAZ,EAAqCkB,OAAOO,QAAP,CAAgBU,sBAArD,EAA6EjB,OAAOmB,cAApF;AACA;AACA,aAAK9C,gBAAL,CAAsBkB,MAAtB,GAA+BS,OAAOO,QAAP,CAAgBU,sBAAhB,GAAyCjB,OAAOmB,cAAhD,GAAiE,IAAjE,GAAwE,KAAvG;AACH,KAjMI;;AAmML;AACAzB,gBAAY,sBAAY;AACpBb,gBAAQC,GAAR,CAAY,UAAZ,EAAwBkB,OAAOoB,YAAP,IAAwB,IAAIf,IAAJ,EAAD,CAAaW,YAAb,EAA/C;AACA,YAAIhB,OAAOoB,YAAP,IAAwB,IAAIf,IAAJ,EAAD,CAAaW,YAAb,EAA3B,EAAwD;AACpDnC,oBAAQC,GAAR,CAAY,IAAZ;AACA;AACH;AACJ,KA1MI;;AA4ML8B,uBAAmB,6BAAY;AAC3B,aAAK3C,cAAL,CAAoBoD,IAApB,CAAyBC,QAAzB,GAAoC,CAApC;AACA,aAAKrD,cAAL,CAAoBoD,IAApB,CAAyBE,cAAzB;AACA,aAAKtD,cAAL,CAAoBoD,IAApB,CAAyBG,SAAzB,CACI7E,GAAG8E,aAAH,CACI9E,GAAG+E,QAAH,CAAY/E,GAAGgF,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAZ,EAAkChF,GAAGgF,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAlC,EAAyDhF,GAAGgF,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAzD,EAA+EhF,GAAGgF,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAA/E,EAAsGhF,GAAGgF,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAtG,EAA4HhF,GAAGiF,SAAH,CAAa,CAAb,CAA5H,CADJ,CADJ;AAIH,KAnNI;;AAqNL;AACAtC,eAAW,qBAAY;AACnB,aAAKZ,UAAL,GAAkB/B,GAAGkF,WAAH,CAAeC,IAAf,CAAoB,KAAK5D,eAAzB,EAA0C,KAA1C,EAAiD,GAAjD,CAAlB;AACAvB,WAAGkF,WAAH,CAAeE,OAAf,CAAuB,KAAKrD,UAA5B,EAAwC,IAAxC;AACA/B,WAAGkF,WAAH,CAAeG,SAAf,CAAyB,KAAKtD,UAA9B,EAA0C,GAA1C;AACA,YAAIuD,SAAStF,GAAGkF,WAAH,CAAeK,SAAf,CAAyB,KAAKxD,UAA9B,CAAb;AACAG,gBAAQC,GAAR,CAAY,0BAA0BmD,MAAtC;AACAjC,eAAOC,YAAP,GAAsB,IAAtB;AACAD,eAAOmC,cAAP,GAAwB,IAAxB;AACH,KA9NI;;AAgOL;AACAC,eAAW,qBAAY;AACnB5F,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAYC,cAAZ,CAA2B,IAA3B;AACH,KApOI;;AAsOL;AACAC,gBAAY,oBAAUC,GAAV,EAAe;AACvB3D,gBAAQC,GAAR,CAAY,oCAAZ;AACA,aAAKH,MAAL,CAAYY,MAAZ,GAAqBiD,GAArB;AACH,KA1OI;;AA4OL;AACAC,kBAAc,sBAAUC,MAAV,EAAkB;AAC5B7D,gBAAQC,GAAR,CAAY,uCAAZ,EAAqDkB,OAAO2C,MAA5D,EAAoED,MAApE;AACA,YAAIE,OAAO5C,OAAO2C,MAAlB;AACA,YAAIC,OAAO,EAAX,EAAe;AACX/D,oBAAQC,GAAR,CAAY,UAAZ;AACA8D,oBAAQC,SAASH,MAAT,CAAR;AACA,gBAAIE,QAAQ,EAAZ,EAAgB;AACZ/D,wBAAQC,GAAR,CAAY,UAAZ;AACA,qBAAKyD,UAAL,CAAgB,IAAhB;AACH;AACJ;AACDvC,eAAO2C,MAAP,IAAiBE,SAASH,MAAT,CAAjB;AACH,KAzPI;;AA2PL;AACA/B,gBAAY,oBAAUmC,GAAV,EAAe;AACvB,YAAIC,YAAY,KAAK/E,QAAL,CAAcgF,cAAd,CAA6B,OAA7B,CAAhB;AACAD,kBAAUE,YAAV,CAAuBtG,GAAGQ,KAA1B,EAAiCgD,MAAjC,GAA0CH,OAAO2C,MAAjD;;AAEA;AACA,YAAI3C,OAAOkD,OAAX,EAAoB;AAChBlD,mBAAOkD,OAAP,CAAeT,YAAf,CAA4BI,SAASC,GAAT,CAA5B;AACH;AACDjE,gBAAQC,GAAR,CAAY,QAAQgE,GAApB,EAAyB9C,OAAO2C,MAAhC;AACA;AACA,YAAI,OAAOQ,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAIC,OAAO5G,SAAS6G,cAAT,EAAX;AACA,gBAAIrG,QAAQ6F,SAASO,KAAKE,QAAd,CAAZ;AACA,gBAAIV,OAAOC,SAASO,KAAKR,IAAd,CAAX;AACApG,qBAAS+G,SAAT,CAAmB,UAACD,QAAD,EAAWV,IAAX,EAAoB;AACnC5F,wBAAQ6F,SAASS,QAAT,CAAR;AACAV,uBAAOC,SAASD,IAAT,CAAP;AACA/D,wBAAQC,GAAR,CAAY,sCAAZ,EAAoD9B,KAApD,EAA2D6F,SAASD,IAAT,CAA3D,EAA2E5C,OAAO2C,MAAlF;AACH,aAJD;AAKAnG,qBAASgH,SAAT,CAAmBxG,KAAnB,EAA0BgD,OAAO2C,MAAjC;AACH;;AAED,YAAII,YAAY,KAAK/E,QAAL,CAAcgF,cAAd,CAA6B,OAA7B,CAAhB;AACAD,kBAAUE,YAAV,CAAuBtG,GAAGQ,KAA1B,EAAiCgD,MAAjC,GAA0CH,OAAO2C,MAAjD;AACH,KApRI;;AAsRL;AACA/C,qBAAiB,2BAAY;AACzB,YAAI,OAAOuD,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAIC,OAAO5G,SAAS6G,cAAT,EAAX;AACArD,mBAAOyD,OAAP,GAAiBZ,SAASO,KAAKE,QAAd,CAAjB;AACAtD,mBAAO2C,MAAP,GAAgBE,SAASO,KAAKR,IAAd,CAAhB;AACApG,qBAAS+G,SAAT,CAAmB,UAACD,QAAD,EAAWV,IAAX,EAAoB;AACnC5C,uBAAOyD,OAAP,GAAiBZ,SAASS,QAAT,CAAjB;AACAtD,uBAAO2C,MAAP,GAAgBE,SAASD,IAAT,CAAhB;AACA/D,wBAAQC,GAAR,CAAY,uBAAZ,EAAqCkB,OAAOyD,OAAP,GAAiB,MAAjB,GAA0BzD,OAAO2C,MAAtE;AACH,aAJD;AAKA,iBAAK5E,UAAL,CAAgBoC,MAAhB,GAAyB,WAAWH,OAAO0D,gBAAP,GAA0B1D,OAAOO,QAAP,CAAgBoD,WAArD,IAAoE,GAApE,GAA0E3D,OAAO0D,gBAA1G;AACA,iBAAK1G,KAAL,CAAWmD,MAAX,GAAoB,SAASH,OAAOyD,OAApC;AACAzD,mBAAO4D,eAAP,GAAyB5D,OAAOyD,OAAhC;AACH,SAZD,MAYO,IAAI,OAAOI,SAAP,KAAqB,WAAzB,EAAsC;AACzC,iBAAK7G,KAAL,CAAWmD,MAAX,GAAoB,gBAAgBH,OAAO8D,OAA3C;AACH;AACJ,KAvSI;;AAySL;AACAC,iBAAa,uBAAY;AACrB/D,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;;AAEA,aAAKC,aAAL,GAAqB,IAArB;AACA,YAAI,OAAOJ,SAAP,KAAqB,WAAzB,EAAsC;AAClC,gBAAIK,SAASzH,QAAQ,QAAR,CAAb;AACAD,qBAAS2H,SAAT,CAAmBD,OAAOE,YAAP,EAAnB,EAA0C,KAAKC,cAAL,CAAoBlF,IAApB,CAAyB,IAAzB,CAA1C;AACH,SAHD,MAGO,IAAI,OAAOgE,EAAP,KAAc,WAAlB,EAA+B;AAClC3G,qBAAS2H,SAAT,CAAmB,WAAnB,EAAgC,KAAKE,cAAL,CAAoBlF,IAApB,CAAyB,IAAzB,CAAhC,EAAgE,KAAKmF,WAAL,CAAiBnF,IAAjB,CAAsB,IAAtB,CAAhE,EAA6F,KAA7F;AACH;AACJ,KApTI;;AAsTLoF,eAAW,qBAAY;AACnBvE,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,YAAI,OAAOH,SAAP,KAAqB,WAAzB,EAAsC;AAClC,gBAAIK,SAASzH,QAAQ,QAAR,CAAb;AACAD,qBAAS2H,SAAT,CAAmBD,OAAOE,YAAP,EAAnB,EAA0C,KAAKC,cAAL,CAAoBlF,IAApB,CAAyB,IAAzB,CAA1C;AACH,SAHD,MAGO,IAAI,OAAOgE,EAAP,KAAc,WAAlB,EAA+B;AAClC3G,qBAAS2H,SAAT,CAAmB,WAAnB,EAAgC,KAAKK,gBAAL,CAAsBrF,IAAtB,CAA2B,IAA3B,CAAhC,EAAkE,IAAlE,EAAwE,KAAxE;AACH;AACJ,KA9TI;;AAgULqF,sBAAkB,4BAAY;AAC1B;AACA,YAAIC,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,kBAAUC,KAAV,CAAgBD,UAAUE,SAA1B,EAAqC,IAArC;AACH,KApUI;;AAsULC,mBAAe,yBAAY;AACvBpI,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOqC,IAAP,CAAYuC,aAAZ,CAA0B,IAA1B;AACH,KA1UI;;AA4UL;AACAC,oBAAgB,0BAAY;AACxBrI,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOqC,IAAP,CAAYyC,YAAZ;AACH,KAjVI;;AAmVL;AACAC,YAAQ,kBAAY;AAChB,YAAIrI,kBAAkBD,QAAQ,iBAAR,CAAtB;AACAC,wBAAgBsI,gBAAhB,CAAiC,KAAKC,WAAL,CAAiB9F,IAAjB,CAAsB,IAAtB,CAAjC;AACH,KAvVI;;AAyVL+F,aAAS,mBAAY;AACjBrG,gBAAQC,GAAR,CAAY,MAAZ;AAEH,KA5VI;;AA8VL;AACAqG,4BAAwB,kCAAY;AAAA;;AAChC,YAAIC,QAAQ,GAAZ;AACA,YAAIlB,SAASzH,QAAQ,QAAR,CAAb;;AAEA,aAAKoB,cAAL,CAAoBsC,MAApB,GAA6B,SAAS+D,OAAOmB,eAAP,CAAuBD,KAAvB,CAAtC;AACA,aAAKnB,aAAL,GAAqB,KAArB;;AAGAqB,sBAAc,KAAKC,iBAAnB;AACA,aAAKA,iBAAL,GAAyBC,YAAY,YAAM;AACvC,gBAAI,CAAC,MAAKvB,aAAV,EAAyB;AACrBmB;AACA,oBAAIA,SAAS,CAAb,EAAgB;AACZ,0BAAKvH,cAAL,CAAoBsC,MAApB,GAA6B,SAAS+D,OAAOmB,eAAP,CAAuBD,KAAvB,CAAtC;AACH,iBAFD,MAEO;AACH,0BAAKxH,SAAL,CAAe2B,MAAf,GAAwB,KAAxB;AACA,0BAAKzB,KAAL,CAAWyB,MAAX,GAAoB,IAApB;AACA+F,kCAAc,MAAKC,iBAAnB;AACH;AACJ;AACJ,SAXwB,EAWtB,IAXsB,CAAzB;AAYH,KApXI;;AAsXLN,iBAAa,uBAAY;AACrBjF,eAAOO,QAAP,CAAgBU,sBAAhB;AACApC,gBAAQC,GAAR,CAAY,UAAZ,EAAwBkB,OAAOO,QAAP,CAAgBU,sBAAxC;AACAzE,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACA,YAAIP,OAAOO,QAAP,CAAgBU,sBAAhB,IAA0CjB,OAAOmB,cAArD,EAAqE;AACjE,iBAAK9C,gBAAL,CAAsBkB,MAAtB,GAA+B,KAA/B;AACH,SAFD,MAEO;AACH,iBAAKlB,gBAAL,CAAsBkB,MAAtB,GAA+B,IAA/B;AACH;;AAED;;;;;;;;;;AAUA;AACA,aAAKkG,cAAL;AACH,KA5YI;;AA8YLpB,oBAAgB,wBAAUqB,OAAV,EAAmB;AAC/B;AACA7G,gBAAQC,GAAR,CAAY,yBAAZ,EAAuCkB,OAAOO,QAAP,CAAgBoF,SAAvD,EAAmE,IAAItF,IAAJ,EAAD,CAAaW,YAAb,EAAlE;AACA,YAAIhB,OAAOO,QAAP,CAAgBoF,SAAhB,IAA8B,IAAItF,IAAJ,EAAD,CAAaW,YAAb,EAAjC,EAA8D;AAC1D,gBAAIkD,SAASzH,QAAQ,QAAR,CAAb;AACAyH,mBAAO0B,aAAP;AACH;AACD5F,eAAOO,QAAP,CAAgBsF,UAAhB;AACA7F,eAAOO,QAAP,CAAgBuF,0BAAhB;;AAEA;AACA,YAAI9F,OAAOO,QAAP,CAAgBsF,UAAhB,IAA8B7F,OAAO+F,gBAAzC,EAA2D;AACvDlH,oBAAQC,GAAR,CAAY,MAAZ,EAAoBkB,OAAOO,QAAP,CAAgBsF,UAApC;AACA;AACA;AACA;AACA;AACH;AACDrJ,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACA,YAAIH,OAAQ,IAAIC,IAAJ,EAAD,CAAaC,OAAb,KAAyBN,OAAOO,QAAP,CAAgBC,SAApD;AACA3B,gBAAQC,GAAR,CAAY,UAAZ,EAAwB,IAAIuB,IAAJ,GAAWC,OAAX,EAAxB,EAA8CN,OAAOO,QAAP,CAAgBC,SAA9D,EAAyEJ,IAAzE;;AAEA,aAAK6D,aAAL,GAAqB,KAArB;AACAqB,sBAAc,KAAKC,iBAAnB;;AAEA,YAAIvF,OAAOO,QAAP,CAAgBsF,UAAhB,IAA8B7F,OAAO+F,gBAAzC,EAA2D;AACvD,iBAAKnI,SAAL,CAAe2B,MAAf,GAAwB,KAAxB;AACA,iBAAKzB,KAAL,CAAWyB,MAAX,GAAoB,KAApB;AACAV,oBAAQC,GAAR,CAAY,aAAZ;AACH,SAJD,MAIO;AACH,iBAAKlB,SAAL,CAAe2B,MAAf,GAAwB,KAAxB;AACA,iBAAKzB,KAAL,CAAWyB,MAAX,GAAoB,IAApB;AACH;AACDV,gBAAQC,GAAR,CAAY,UAAU,KAAKhB,KAAL,CAAWyB,MAArB,GAA8B,WAA9B,GAA4C,KAAK3B,SAAL,CAAe2B,MAAvE;AACA;AACA;AACH,KAlbI;;AAobL;AACA+E,iBAAa,qBAAU0B,GAAV,EAAe;AACxBnH,gBAAQC,GAAR,CAAY,OAAZ;AACA,YAAIkH,QAAQC,SAAZ,EAAuB;AACnBjG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH,SAFD,MAEO,IAAIF,OAAO,MAAX,EAAmB;AACtBhG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACH,SAFM,MAEA,IAAIF,OAAO,QAAX,EAAqB;AACxBhG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH,SAFM,MAEA;AACHlG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH;AACD,aAAKjC,aAAL,GAAqB,KAArB;AACH,KAjcI;;AAmcL;AACAkC,kBAAc,wBAAY;AACtBnG,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,aAAKC,aAAL,GAAqB,IAArB;;AAEA,YAAI,OAAOJ,SAAP,KAAqB,WAAzB,EAAsC;AAClC,gBAAIK,SAASzH,QAAQ,QAAR,CAAb;AACAD,qBAAS2H,SAAT,CAAmBD,OAAOE,YAAP,EAAnB,EAA0C,KAAKC,cAAL,CAAoBlF,IAApB,CAAyB,IAAzB,CAA1C;AACH,SAHD,MAGO,IAAI,OAAOgE,EAAP,KAAc,WAAlB,EAA+B;AAClC3G,qBAAS2H,SAAT,CAAmB,WAAnB,EAAgC,KAAKiC,iBAAL,CAAuBjH,IAAvB,CAA4B,IAA5B,CAAhC,EAAmE,KAAKmF,WAAL,CAAiBnF,IAAjB,CAAsB,IAAtB,CAAnE,EAAgG,KAAhG;AACH;AACJ,KA9cI;;AAgdL;AACAiH,uBAAmB,2BAAUV,OAAV,EAAmB;AAClC;AACA,YAAIjB,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,kBAAUC,KAAV,CAAgBD,UAAU4B,QAA1B,EAAoC,IAApC;;AAEA,YAAI,OAAOlD,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAI,CAACuC,OAAL,EAAc;AACV1F,uBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACArH,wBAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AACJ;AACD,YAAIkB,OAAOO,QAAP,CAAgB+F,UAAhB,CAA2BC,UAA3B,CAAsCC,OAAtC,CAA8Cd,OAA9C,KAA0D,CAAC,CAA/D,EAAkE;AAC9D7G,oBAAQC,GAAR,CAAY,WAAZ,EAAyB4G,OAAzB;AACA1F,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACA;AACH,SAJD,MAIO;AACHrH,oBAAQC,GAAR,CAAY,QAAZ,EAAsB4G,OAAtB;AACA1F,mBAAOO,QAAP,CAAgB+F,UAAhB,CAA2BC,UAA3B,CAAsCE,IAAtC,CAA2Cf,OAA3C;AACAlJ,qBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACH;;AAED;AACA,YAAIM,IAAI,IAAIR,IAAJ,CAASA,KAAKS,GAAL,EAAT,CAAR;AACA,YAAId,OAAOO,QAAP,CAAgBoF,SAAhB,IAA6B9E,EAAEG,YAAF,EAAjC,EAAmD;AAC/ChB,mBAAOO,QAAP,CAAgBuF,0BAAhB,GAA6C,CAA7C;AACA9F,mBAAOO,QAAP,CAAgBsF,UAAhB,GAA6B,CAA7B;AACA7F,mBAAOO,QAAP,CAAgBE,eAAhB,GAAkC,CAAlC;AACAT,mBAAOO,QAAP,CAAgBC,SAAhB,GAA4B,CAA5B;AACAR,mBAAOO,QAAP,CAAgBoF,SAAhB,GAA4B9E,EAAEG,YAAF,EAA5B;AACAxE,qBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACH;;AAED;AACAP,eAAOO,QAAP,CAAgBsF,UAAhB;AACA7F,eAAOO,QAAP,CAAgBoF,SAAhB,GAA4B9E,EAAEG,YAAF,EAA5B;;AAEA;AACA,YAAIhB,OAAOO,QAAP,CAAgBsF,UAAhB,IAA8B7F,OAAO+F,gBAAzC,EAA2D;AACvDlH,oBAAQC,GAAR,CAAY,MAAZ,EAAoBkB,OAAOO,QAAP,CAAgBsF,UAApC;AACA;AACH;AACDrJ,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACA,aAAK0D,aAAL,GAAqB,KAArB;AACAqB,sBAAc,KAAKC,iBAAnB;;AAEA;AACA,YAAI,CAACvF,OAAO0G,WAAZ,EAAyB;AACrB1G,mBAAO0G,WAAP,GAAqB;AACjB,4BAAY;AADK,aAArB;AAGH;AACD;AACA,YAAIV,MAAM,SAAShG,OAAO0G,WAAP,CAAmBC,QAA5B,GAAuC,IAAjD;AACA3G,eAAOqC,IAAP,CAAYuE,kBAAZ,CAA+BZ,GAA/B;AACA,aAAKrF,UAAL,CAAgBX,OAAO0G,WAAP,CAAmBC,QAAnC;AACH,KAzgBI;;AA2gBL;AACAlB,oBAAgB,0BAAY;AAAA;;AACxB,YAAIvB,SAASzH,QAAQ,QAAR,CAAb;AACA,YAAIoK,YAAY,CAAhB,CAFwB,CAEL;AACnB;;;;;;;;;;;;;;;AAeA,YAAIzB,QAAQ,EAAZ;AACAE,sBAAc,KAAKwB,WAAnB;AACA,aAAKA,WAAL,GAAmBtB,YAAY,YAAM;AACjCJ,qBAAS,CAAT;AACA,gBAAIA,SAAS,CAAb,EAAgB;AACZ,oBAAI2B,WAAWpK,GAAGqK,WAAH,CAAe,OAAKtJ,QAApB,CAAf;AACAqJ,yBAASE,WAAT,CAAqBtK,GAAGuK,CAAH,CAAK,CAAL,EAAQ,CAAR,CAArB;AACA,uBAAK7F,IAAL,CAAU8F,QAAV,CAAmBJ,QAAnB;AACA,oBAAIK,MAAMpH,OAAOkD,OAAP,CAAelF,QAAf,CAAwBqJ,WAAxB,EAAV;AACAN,yBAAS9D,YAAT,CAAsB,aAAtB,EAAqCqE,UAArC,CAAgD,CAACF,IAAIG,CAAL,EAAQH,IAAII,CAAZ,CAAhD,EAAgE,CAAhE;AACH,aAND,MAMO;AACHlC,8BAAc,OAAKwB,WAAnB;AACH;AACJ,SAXkB,EAWhB,GAXgB,CAAnB;AAaH,KA7iBI;;AA+iBL;AACAW,uBAAmB,6BAAY;AAC3BzH,eAAOqC,IAAP,CAAYC,cAAZ,CAA2B,IAA3B;AACH,KAljBI;;AAojBL;AACAR,UAAM,gBAAY;AACd,YAAI,CAAC9B,OAAO0H,YAAZ,EAA0B;AACtB,gBAAIC,OAAO,IAAX;AACAhL,eAAGiL,MAAH,CAAUC,OAAV,CAAkB,cAAlB,EAAkC,UAAUC,GAAV,EAAe1E,IAAf,EAAqB;AACnDpD,uBAAO0H,YAAP,GAAsBtE,KAAKsE,YAA3B;AACAC,qBAAKI,MAAL;AACH,aAHD;AAIH,SAND,MAMO;AACH,iBAAKA,MAAL;AACH;AACJ,KA/jBI;;AAikBLA,YAAQ,kBAAY;AAChBvL,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOgI,YAAP,GAAsB,KAAtB;;AAEA;AACA,aAAK1J,YAAL,CAAkBiB,MAAlB,GAA2B,KAA3B;AACA,YAAI0I,QAAQzL,SAAS0L,gBAAT,EAAZ;AACA,YAAI,CAACD,KAAD,IAAWA,SAASA,MAAME,IAAN,CAAWC,MAAX,IAAqB,CAA7C,EAAiD;AAC7CpI,mBAAOqC,IAAP,CAAYgG,UAAZ;AACA;AACA,gBAAI5D,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,sBAAUC,KAAV,CAAgBD,UAAU6D,SAA1B,EAAqC,IAArC;AACH,SALD,MAKO;AACH,iBAAKhK,YAAL,CAAkBiB,MAAlB,GAA2B,IAA3B;AACH;AACJ,KAjlBI;;AAmlBL;AACAgJ,uBAAmB,6BAAY;AAC3B,YAAIJ,OAAO3L,SAAS0L,gBAAT,EAAX;AACArJ,gBAAQC,GAAR,CAAY,oBAAZ,EAAkCqJ,IAAlC;AACAnI,eAAOqC,IAAP,CAAYgG,UAAZ,CAAuBF,IAAvB;AACA;AACA,YAAI1D,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,kBAAUC,KAAV,CAAgBD,UAAU6D,SAA1B,EAAqC,IAArC;AACH,KA3lBI;;AA6lBL;AACAE,iBAAa,uBAAY;AACrBhM,iBAASiM,qBAAT;AACAzI,eAAOqC,IAAP,CAAYgG,UAAZ;AACA;AACA,YAAI5D,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,kBAAUC,KAAV,CAAgBD,UAAU6D,SAA1B,EAAqC,IAArC;AACH,KApmBI;;AAsmBL;AACAI,mBAAe,yBAAY;AACvB,aAAKpK,YAAL,CAAkBiB,MAAlB,GAA2B,KAA3B;AACH,KAzmBI;;AA2mBL;AACAoJ,eAAW,qBAAY;AACnBnM,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,YAAI,CAAChE,OAAO4I,WAAZ,EAAyB;AACrB,gBAAIjB,OAAO,IAAX;AACAhL,eAAGiL,MAAH,CAAUC,OAAV,CAAkB,OAAlB,EAA2B,UAAUC,GAAV,EAAe1E,IAAf,EAAqB;AAC5CpD,uBAAO4I,WAAP,GAAqBxF,IAArB;AACAuE,qBAAKkB,WAAL;AACAhK,wBAAQC,GAAR,CAAY,uBAAZ,EAAqCsE,IAArC;AACH,aAJD;AAKH,SAPD,MAOO;AACH,iBAAKyF,WAAL;AACH;AACJ,KAznBI;;AA2nBLA,iBAAa,uBAAY;AACrB;AACA,YAAI7I,OAAOO,QAAP,CAAgBoD,WAAhB,IAA+B,CAAnC,EAAsC;AAClC;AACA;AACA,gBAAI,OAAOE,SAAP,KAAqB,WAAzB,EAAsC;AAClC,oBAAIK,SAASzH,QAAQ,QAAR,CAAb;AACAD,yBAAS2H,SAAT,CAAmBD,OAAOE,YAAP,EAAnB,EAA0C,KAAKC,cAAL,CAAoBlF,IAApB,CAAyB,IAAzB,CAA1C;AACH,aAHD,MAGO,IAAI,OAAOgE,EAAP,KAAc,WAAlB,EAA+B;AAClC,oBAAInD,OAAOE,aAAP,IAAwBF,OAAOE,aAAP,CAAqB4I,UAAjD,EAA6D;AACzDtM,6BAAS2H,SAAT,CAAmB,WAAnB,EAAgC,KAAK4E,mBAAL,CAAyB5J,IAAzB,CAA8B,IAA9B,CAAhC,EAAqE,KAAK6J,gBAAL,CAAsB7J,IAAtB,CAA2B,IAA3B,CAArE,EAAuG,KAAvG;AACH,iBAFD,MAEO;AACH,wBAAIzC,kBAAkBD,QAAQ,iBAAR,CAAtB;AACAC,oCAAgBsI,gBAAhB,CAAiC,KAAKiE,gBAAL,CAAsB9J,IAAtB,CAA2B,IAA3B,CAAjC,EAAmE,KAAK+J,aAAL,CAAmB/J,IAAnB,CAAwB,IAAxB,CAAnE;AACH;AACJ;AACD;AACH;AACDa,eAAOO,QAAP,CAAgBoD,WAAhB;AACAnH,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACAP,eAAOgI,YAAP,GAAsB,IAAtB;AACAhI,eAAOqC,IAAP,CAAYgG,UAAZ;AACH,KAjpBI;;AAmpBLU,yBAAqB,6BAAUrD,OAAV,EAAmB;AACpC;AACA,YAAIjB,YAAYhI,QAAQ,WAAR,CAAhB;AACAgI,kBAAUC,KAAV,CAAgBD,UAAU0E,UAA1B,EAAsC,IAAtC;;AAEA,YAAI,OAAOhG,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAI,CAACuC,OAAL,EAAc;AACV1F,uBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACArH,wBAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AACJ;AACD,YAAIkB,OAAOO,QAAP,CAAgB+F,UAAhB,CAA2BC,UAA3B,CAAsCC,OAAtC,CAA8Cd,OAA9C,KAA0D,CAAC,CAA/D,EAAkE;AAC9D7G,oBAAQC,GAAR,CAAY,WAAZ,EAAyB4G,OAAzB;AACA1F,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACA;AACH,SAJD,MAIO;AACHrH,oBAAQC,GAAR,CAAY,QAAZ,EAAsB4G,OAAtB;AACA1F,mBAAOO,QAAP,CAAgB+F,UAAhB,CAA2BC,UAA3B,CAAsCE,IAAtC,CAA2Cf,OAA3C;AACAlJ,qBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACH;;AAEDP,eAAOO,QAAP,CAAgBoD,WAAhB,GAA8B3D,OAAO0D,gBAArC;AACA1D,eAAOO,QAAP,CAAgBoD,WAAhB;AACAnH,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACAP,eAAOgI,YAAP,GAAsB,IAAtB;AACAhI,eAAOqC,IAAP,CAAYgG,UAAZ;AACH,KA9qBI;;AAgrBLW,sBAAkB,0BAAUhD,GAAV,EAAe;AAC7B,YAAIA,QAAQC,SAAZ,EAAuB;AACnBjG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH,SAFD,MAEO,IAAIF,OAAO,MAAX,EAAmB;AACtBhG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,cAA3B;AACH,SAFM,MAEA,IAAIF,OAAO,QAAX,EAAqB;AACxBhG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH,SAFM,MAEA;AACHlG,mBAAOqC,IAAP,CAAY6D,cAAZ,CAA2B,OAA3B;AACH;AACJ,KA1rBI;;AA4rBL;AACA+C,sBAAkB,4BAAY;AAC1BjJ,eAAOO,QAAP,CAAgBoD,WAAhB,GAA8B3D,OAAO0D,gBAArC;AACA1D,eAAOO,QAAP,CAAgBoD,WAAhB;AACAnH,iBAAS0E,sBAAT,CAAgClB,OAAOO,QAAvC;AACAP,eAAOgI,YAAP,GAAsB,IAAtB;AACAhI,eAAOqC,IAAP,CAAYgG,UAAZ;AACH,KAnsBI;;AAqsBL;AACAa,mBAAe,yBAAY;AACvBlJ,eAAOqC,IAAP,CAAYuE,kBAAZ,CAA+B,gBAA/B;AACH,KAxsBI;;AA0sBL;AACAwC,gBAAY,sBAAY;AACpB5M,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOqC,IAAP,CAAYgH,QAAZ,CAAqB,IAArB;AACH,KA/sBI;;AAitBL;AACAC,iBAAa,uBAAY;AACrB9M,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOqC,IAAP,CAAYkH,SAAZ;AACA,aAAKhH,UAAL,CAAgB,KAAhB;AACH,KAvtBI;;AAytBL;AACAiH,iBAAa,uBAAY;AACrBhN,iBAASiD,YAAT,CAAsB,KAAtB;AACAO,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACAhE,eAAOyJ,OAAP,CAAeD,WAAf;AACH,KA9tBI;;AAguBLE,eAAW,qBAAY;AACnB1J,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,YAAIhE,OAAOC,YAAX,EAAyB;AACrB,iBAAK0J,QAAL;AACA,iBAAKpM,UAAL,CAAgBgC,MAAhB,GAAyB,KAAzB;AACA,iBAAK9B,WAAL,CAAiB8B,MAAjB,GAA0B,IAA1B;AACH,SAJD,MAIO;AACH,iBAAKqK,OAAL;AACA,iBAAKrM,UAAL,CAAgBgC,MAAhB,GAAyB,IAAzB;AACA,iBAAK9B,WAAL,CAAiB8B,MAAjB,GAA0B,KAA1B;AACH;AACDS,eAAOC,YAAP,GAAsB,CAACD,OAAOC,YAA9B;AACH,KA5uBI;;AA8uBL2J,aAAS,mBAAY;AACjB,YAAI,KAAKlL,UAAL,GAAkB,CAAC,CAAvB,EAA0B;AACtB/B,eAAGkF,WAAH,CAAegI,MAAf,CAAsB,KAAKnL,UAA3B;AACH;AACJ,KAlvBI;;AAovBLiL,cAAU,oBAAY;AAClB,YAAI,KAAKjL,UAAL,GAAkB,CAAC,CAAvB,EAA0B;AACtB/B,eAAGkF,WAAH,CAAeiI,KAAf,CAAqB,KAAKpL,UAA1B;AACH;AACJ,KAxvBI;;AA0vBL;AACAqL,gBAAY,sBAAY;AACpB/J,eAAOqC,IAAP,CAAY2B,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,YAAIgG,aAAavN,QAAQ,YAAR,CAAjB;;AAEA,YAAIuD,OAAOiK,UAAP,IAAqBjK,OAAOiK,UAAP,CAAkB7B,MAAlB,GAA2B,CAApD,EAAuD;AACnDvJ,oBAAQC,GAAR,CAAY,eAAZ,EAA6BkB,OAAOiK,UAApC,EAAgDjK,OAAOiK,UAAP,CAAkB7B,MAAlE;;AAEA,gBAAI8B,QAAQC,KAAKC,KAAL,CAAWzN,GAAG0N,UAAH,KAAkBrK,OAAOiK,UAAP,CAAkB7B,MAA/C,CAAZ;AACA,gBAAIkC,UAAUtK,OAAOiK,UAAP,CAAkBC,KAAlB,CAAd;AACArL,oBAAQC,GAAR,CAAY,UAAZ,EAAwBwL,OAAxB;AACAN,uBAAWO,YAAX,CAAwBD,OAAxB;AACH;AACJ;AAvwBI,CAAT","file":"startUI.js","sourceRoot":"../../../../../assets/Scripts/ui","sourcesContent":["let ThirdAPI = require('../common/ThirdAPI')\nlet wxRewardVideoAd = require('../common/wxRewardVideoAd')\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        score: {\n            default: null,\n            type: cc.Label,\n        },\n        icon: {\n            default: null,\n            type: cc.Sprite,\n        },\n        bg: {\n            default: null,\n            type: cc.Sprite,\n        },\n        soundOnBtn: {\n            default: null,\n            type: cc.Node\n        },\n        soundOffBtn: {\n            default: null,\n            type: cc.Node\n        },\n        //随机钻石预设\n        gemStone: {\n            default: null,\n            type: cc.Prefab\n        },\n        friendBtn: {\n            default: null,\n            type: cc.Node\n        },\n        friendBtnLabel: {\n            default: null,\n            type: cc.Label\n        },\n        adBtn: {\n            default: null,\n            type: cc.Node\n        },\n        dailyLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        //金币节点\n        goldNode: {\n            default: null,\n            type: cc.Node\n        },\n        spriteMoreGame: {\n            default: null,\n            type: cc.Sprite,\n        },\n        //背景音乐\n        backgroundAudio: {\n            url: cc.AudioClip,\n            default: null\n        },\n        //广告按钮\n        rewardVideoAdBtn: {\n            default: null,\n            type: cc.Node\n        },\n        /*\n        addBtn: {\n            default: null,\n            type: cc.Node\n        },*/\n        //存档界面\n        keepDataNode: {\n            default: null,\n            type: cc.Node\n        },\n        //每日挑战按钮\n        dailyBtn: {\n            default: null,\n            type: cc.Node\n        },\n        layoutNode: {\n            default: null,\n            type: cc.Node,\n        },\n        version: {\n            default: null,\n            type: cc.Label,\n        },\n        currentBGM: -1,\n\n        // 红点\n        reddot: {\n            default: null,\n            type: cc.Node\n        },\n    },\n\n    onLoad: function () {\n        console.log(\"开始游戏界面的onLoad方法\");\n        listenUtil.eventCtrl.addListen('cdnchange', this.cdnchange.bind(this));\n    },\n\n    start: function () {\n        console.log('开始界面调用 start方法');\n        this.init();\n        this.initAudio();\n        this.reddot.active = false;\n    },\n\n    cdnchange: function (params) {\n        console.log('cdn数据变化');\n        //this.addBtn.active = Global.cdnGameConfig.totalSwith;\n        //this.dailyBtn.active = Global.cdnGameConfig.totalSwith;\n    },\n\n    init: function () {\n        ThirdAPI.showGameClub(true);\n        this.checkLogin();\n        this.setShowRewardVideoAd();\n        this.updateBestScore();\n        this.icon.spriteFrame.getTexture().setAliasTexParameters();\n        this.bg.spriteFrame.getTexture().setAliasTexParameters();\n        this.soundOnBtn.active = Global.isBGMPlaying;\n        this.soundOffBtn.active = !Global.isBGMPlaying;\n        //this.addBtn.active = Global.cdnGameConfig.totalSwith;\n        this.keepDataNode.active = false;\n        //this.dailyBtn.active = Global.cdnGameConfig.totalSwith;\n\n        if (Global.cdnGameConfig && Global.cdnGameConfig.version) {\n            this.version.string = Global.cdnGameConfig.version;\n        }\n\n        // var baseScale = 640 / 1136;\n        //var scale = Math.floor(cc.winSize.width / cc.winSize.height / baseScale);\n\n        //this.layoutNode.scale = cc.winSize.width / cc.winSize.height / baseScale;\n\n\n        //显示星星\n        var time = (new Date()).getTime() - Global.gameinfo.shareTime;\n        console.log(\"索取次数判断：\", Global.gameinfo.shareTotalTimes, Global.dailyTotalTimes, time);\n\n        //cdn判断\n        //总开关判断\n        /*\n        if (Global.cdnGameConfig.totalSwith) {\n            this.friendBtn.active = false;\n        } else {\n            //分数开关判断\n            if (Global.cdnGameConfig.startScoreSwith) {\n                //判断分数\n                console.log('判断分数：', Global.cdnGameConfig.startScoreLimit, Global.wxScore);\n                var canShow = Global.wxScore > Global.cdnGameConfig.startScoreLimit ? true : false;\n                console.log('首页索取按钮判断--canShow:', canShow, Global.gameinfo.shareTotalTimes, time);\n                this.friendBtn.active = (canShow && Global.gameinfo.shareTotalTimes < Global.dailyTotalTimes && time > Global.intervalTime) ? true : false;\n            } else {\n                console.log('设置好友索取按钮状态');\n                this.friendBtn.active = (Global.gameinfo.shareTotalTimes < Global.dailyTotalTimes && time > Global.intervalTime) ? true : false;\n            }\n        }\n\n        //this.friendBtn.active = (!Global.Gameversion && Global.gameinfo.shareTotalTimes < Global.dailyTotalTimes && time > Global.intervalTime) ? true : false;\n\n        if (Global.gameinfo.shareTimes >= Global.getForTotalTimes) {\n            this.friendBtn.active = false;\n            this.adBtn.active = false;\n            console.log('每日的分享次数已经满了');\n        } else {\n            console.log('Global.gameinfo.shareTimesAndRewardVideoAd:', Global.gameinfo.shareTimesAndRewardVideoAd);\n            if (Global.gameinfo.shareTimesAndRewardVideoAd % 2 == 0) {\n                this.friendBtn.active = false;\n                this.adBtn.active = true;\n            } else {\n                this.friendBtn.active = true;\n                this.adBtn.active = false;\n            }\n        }*/\n\n        this.updateGold(0);\n        this.moreGameRunAction();\n    },\n\n    //显示广告\n    setShowRewardVideoAd: function () {\n        //判断看广告是否在当天\n        var d = new Date(Date.now());\n        if (Global.gameinfo.showRewardVideoAdDate != d.toDateString()) {\n            Global.gameinfo.showRewardVideoAdTimes = 0;\n            Global.gameinfo.showRewardVideoAdDate = d.toDateString();\n            ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        }\n        console.log('setShowRewardVideoAd:', Global.gameinfo.showRewardVideoAdTimes, Global.showTotalTimes);\n        //判断次数限制\n        this.rewardVideoAdBtn.active = Global.gameinfo.showRewardVideoAdTimes < Global.showTotalTimes ? true : false;\n    },\n\n    //每次到开始界面都判断是否需要重新登录，拉去最新数据\n    checkLogin: function () {\n        console.log('开始界面判断日期', Global.loginDateStr != (new Date()).toDateString())\n        if (Global.loginDateStr != (new Date()).toDateString()) {\n            console.log('登录');\n            //tcpManager.sendCmd.sendLoginData();\n        }\n    },\n\n    moreGameRunAction: function () {\n        this.spriteMoreGame.node.rotation = 0;\n        this.spriteMoreGame.node.stopAllActions();\n        this.spriteMoreGame.node.runAction(\n            cc.repeatForever(\n                cc.sequence(cc.rotateBy(0.1, 10), cc.rotateBy(0.2, -20), cc.rotateBy(0.2, 20), cc.rotateBy(0.2, -20), cc.rotateBy(0.1, 10), cc.delayTime(2)))\n        );\n    },\n\n    //初始化音乐\n    initAudio: function () {\n        this.currentBGM = cc.audioEngine.play(this.backgroundAudio, false, 0.2);\n        cc.audioEngine.setLoop(this.currentBGM, true);\n        cc.audioEngine.setVolume(this.currentBGM, 0.2);\n        var volume = cc.audioEngine.getVolume(this.currentBGM);\n        console.log('currentBGM volume is ' + volume);\n        Global.isBGMPlaying = true;\n        Global.isSoundPlaying = true;\n    },\n\n    //宝箱赠送\n    showChest: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.showPropDialog(true);\n    },\n\n    // 显示提示红点\n    showRedDot: function (ret) {\n        console.log(\"-------------->>>>>>>>>>>>>>>>显示红点\");\n        this.reddot.active = ret;\n    },\n\n    // 更新提示红点\n    updateRedDot: function (addNum) {\n        console.log(\"-------------->>>>>>>>>>>>>>>>检测星星个数:\", Global.wxGold, addNum);\n        let gold = Global.wxGold;\n        if (gold < 50) {\n            console.log(\"星星个数小于50\");\n            gold += parseInt(addNum);\n            if (gold >= 50) {\n                console.log(\"星星个数大于50\");\n                this.showRedDot(true);\n            }\n        }\n        Global.wxGold += parseInt(addNum);\n    },\n\n    //更新星星的数量\n    updateGold: function (num) {\n        var goldLabel = this.goldNode.getChildByName('label');\n        goldLabel.getComponent(cc.Label).string = Global.wxGold;\n\n        //Global.wxGold += parseInt(num);\n        if (Global.startUI) {\n            Global.startUI.updateRedDot(parseInt(num));\n        }\n        console.log('1 :' + num, Global.wxGold);\n        //更新并存储\n        if (typeof wx !== 'undefined') {\n            let data = ThirdAPI.loadLocalScore();\n            var score = parseInt(data.maxscore);\n            var gold = parseInt(data.gold);\n            ThirdAPI.loadScore((maxscore, gold) => {\n                score = parseInt(maxscore);\n                gold = parseInt(gold);\n                console.log('gridController on ThirdAPI loadScore', score, parseInt(gold), Global.wxGold);\n            });\n            ThirdAPI.saveScore(score, Global.wxGold);\n        }\n\n        var goldLabel = this.goldNode.getChildByName('label');\n        goldLabel.getComponent(cc.Label).string = Global.wxGold;\n    },\n\n    //更新分数\n    updateBestScore: function () {\n        if (typeof wx !== 'undefined') {\n            let data = ThirdAPI.loadLocalScore();\n            Global.wxScore = parseInt(data.maxscore);\n            Global.wxGold = parseInt(data.gold);\n            ThirdAPI.loadScore((maxscore, gold) => {\n                Global.wxScore = parseInt(maxscore);\n                Global.wxGold = parseInt(gold);\n                console.log('on ThirdAPI loadScore', Global.wxScore + \" :: \" + Global.wxGold);\n            });\n            this.dailyLabel.string = \"每日挑战 \" + (Global.dailyBattleTimes - Global.gameinfo.battleTimes) + \"/\" + Global.dailyBattleTimes;\n            this.score.string = \"最高分:\" + Global.wxScore;\n            Global.historyMaxScore = Global.wxScore;\n        } else if (typeof FBInstant !== 'undefined') {\n            this.score.string = \"High score:\" + Global.fbScore;\n        }\n    },\n\n    // 分享功能  intent(\"INVITE\" | \"REQUEST\" | \"CHALLENGE\" | \"SHARE\") 表示分享的意图\n    onShareGame: function () {\n        Global.game.playSound('btn', 0.1);\n\n        this.pauseInterval = true;\n        if (typeof FBInstant !== 'undefined') {\n            var myUtil = require('myUtil');\n            ThirdAPI.shareGame(myUtil.getImgBase64(), this.onShareSuccess.bind(this));\n        } else if (typeof wx !== 'undefined') {\n            ThirdAPI.shareGame('randomImg', this.onShareSuccess.bind(this), this.onShareFail.bind(this), '245');\n        }\n    },\n\n    shareToWx: function () {\n        Global.game.playSound('btn', 0.1);\n        if (typeof FBInstant !== 'undefined') {\n            var myUtil = require('myUtil');\n            ThirdAPI.shareGame(myUtil.getImgBase64(), this.onShareSuccess.bind(this));\n        } else if (typeof wx !== 'undefined') {\n            ThirdAPI.shareGame('randomImg', this.shareToWXSuccess.bind(this), null, '245');\n        }\n    },\n\n    shareToWXSuccess: function () {\n        //游戏首页点击分享到微信群并分享成功\n        var biManager = require('biManager');\n        biManager.bilog(biManager.shareToWX, null);\n    },\n\n    showGroupRank: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.game.showGroupRank(true);\n    },\n\n    //好友互助奖励\n    onShowRewardUI: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.game.showRewardUI();\n    },\n\n    //测试广告\n    testAd: function () {\n        var wxRewardVideoAd = require('wxRewardVideoAd');\n        wxRewardVideoAd.initCreateReward(this.onAdSuccess.bind(this));\n    },\n\n    onclose: function () {\n        console.log('关闭广告');\n\n    },\n\n    //设置倒计时\n    startContinueConutDown: function () {\n        let times = 300;\n        let myUtil = require(\"myUtil\");\n\n        this.friendBtnLabel.string = '邀请好友' + myUtil.getSecondString(times);\n        this.pauseInterval = false;\n\n\n        clearInterval(this.countDownInterval);\n        this.countDownInterval = setInterval(() => {\n            if (!this.pauseInterval) {\n                times--;\n                if (times >= 0) {\n                    this.friendBtnLabel.string = '邀请好友' + myUtil.getSecondString(times);\n                } else {\n                    this.friendBtn.active = false;\n                    this.adBtn.active = true;\n                    clearInterval(this.countDownInterval);\n                }\n            }\n        }, 1000);\n    },\n\n    onAdSuccess: function () {\n        Global.gameinfo.showRewardVideoAdTimes++;\n        console.log('保存看广告的次数', Global.gameinfo.showRewardVideoAdTimes);\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        if (Global.gameinfo.showRewardVideoAdTimes >= Global.showTotalTimes) {\n            this.rewardVideoAdBtn.active = false;\n        } else {\n            this.rewardVideoAdBtn.active = true;\n        }\n\n        /*\n                if (Global.gameinfo.shareTimes >= Global.getForTotalTimes) {\n                    this.friendBtn.active = false;\n                    this.adBtn.active = false;\n                    console.log('每日的分享次数已经满了');\n                } else {\n                    this.friendBtn.active = true;\n                    this.adBtn.active = false;\n                }\n                console.log('adBtn' + this.adBtn.active + 'friendBtn' + this.friendBtn.active);*/\n        //星星\n        this.createGemstone();\n    },\n\n    onShareSuccess: function (openGId) {\n        //判断是否是当日(向朋友索取),防止凌晨状态\n        console.log('startUI onshareSuccess:', Global.gameinfo.shareDate, (new Date()).toDateString())\n        if (Global.gameinfo.shareDate != (new Date()).toDateString()) {\n            var myUtil = require('myUtil');\n            myUtil.resetInitData();\n        }\n        Global.gameinfo.shareTimes++;\n        Global.gameinfo.shareTimesAndRewardVideoAd++;\n\n        //先判断5次机会，再判断每日总次数3次\n        if (Global.gameinfo.shareTimes >= Global.getForTotalTimes) {\n            console.log('次数已满', Global.gameinfo.shareTimes);\n            //5次已满\n            // Global.gameinfo.shareTimes = 0;\n            // Global.gameinfo.shareTotalTimes++;\n            // Global.gameinfo.shareTime = (new Date()).getTime();\n        }\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        var time = (new Date()).getTime() - Global.gameinfo.shareTime;\n        console.log('分享成功的时间：', new Date().getTime(), Global.gameinfo.shareTime, time);\n\n        this.pauseInterval = false;\n        clearInterval(this.countDownInterval);\n\n        if (Global.gameinfo.shareTimes >= Global.getForTotalTimes) {\n            this.friendBtn.active = false;\n            this.adBtn.active = false;\n            console.log('每日的分享次数已经满了');\n        } else {\n            this.friendBtn.active = false;\n            this.adBtn.active = true;\n        }\n        console.log('adBtn' + this.adBtn.active + 'friendBtn' + this.friendBtn.active);\n        //星星\n        //this.createGemstone();\n    },\n\n    //分享到群失败\n    onShareFail: function (msg) {\n        console.log('分享失败！');\n        if (msg === undefined) {\n            Global.game.showDialogText('分享失败！');\n        } else if (msg == 'fail') {\n            Global.game.showDialogText('分享失败，分享到群才有效');\n        } else if (msg == 'cancel') {\n            Global.game.showDialogText('分享失败！');\n        } else {\n            Global.game.showDialogText('分享失败！');\n        }\n        this.pauseInterval = false;\n    },\n\n    //加号分享得钻石\n    addShareGame: function () {\n        Global.game.playSound('btn', 0.1);\n        this.pauseInterval = true;\n\n        if (typeof FBInstant !== 'undefined') {\n            var myUtil = require('myUtil');\n            ThirdAPI.shareGame(myUtil.getImgBase64(), this.onShareSuccess.bind(this));\n        } else if (typeof wx !== 'undefined') {\n            ThirdAPI.shareGame('randomImg', this.onAddShareSuccess.bind(this), this.onShareFail.bind(this), '244');\n        }\n    },\n\n    //加号分享成功\n    onAddShareSuccess: function (openGId) {\n        //游戏首页点击+号并分享成功\n        var biManager = require('biManager');\n        biManager.bilog(biManager.addShare, null);\n\n        if (typeof wx !== 'undefined') {\n            if (!openGId) {\n                Global.game.showDialogText('分享失败，分享到群才有效');\n                console.log('分享失败，分享到群才有效');\n                return;\n            }\n        }\n        if (Global.gameinfo.shareData1.arrOpenGId.indexOf(openGId) != -1) {\n            console.log('该群今日已经分享过', openGId);\n            Global.game.showDialogText('分享失败，请分享到不同群');\n            return;\n        } else {\n            console.log('该群未分享过', openGId);\n            Global.gameinfo.shareData1.arrOpenGId.push(openGId);\n            ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        }\n\n        //判断是否是当日(向朋友索取)\n        var d = new Date(Date.now());\n        if (Global.gameinfo.shareDate != d.toDateString()) {\n            Global.gameinfo.shareTimesAndRewardVideoAd = 0;\n            Global.gameinfo.shareTimes = 0;\n            Global.gameinfo.shareTotalTimes = 0;\n            Global.gameinfo.shareTime = 0;\n            Global.gameinfo.shareDate = d.toDateString();\n            ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        }\n\n        //判断次数\n        Global.gameinfo.shareTimes++;\n        Global.gameinfo.shareDate = d.toDateString();\n\n        //先判断5次机会，再判断每日总次数3次\n        if (Global.gameinfo.shareTimes >= Global.getForTotalTimes) {\n            console.log('次数已满', Global.gameinfo.shareTimes);\n            return;\n        }\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        this.pauseInterval = false;\n        clearInterval(this.countDownInterval);\n\n        //兼容\n        if (!Global.startConfig) {\n            Global.startConfig = {\n                'addStone': 5\n            };\n        }\n        //加钻石\n        var msg = '恭喜获得' + Global.startConfig.addStone + '星星';\n        Global.game.showDialogPropText(msg);\n        this.updateGold(Global.startConfig.addStone);\n    },\n\n    //创建随机掉落的钻石\n    createGemstone: function () {\n        var myUtil = require('myUtil');\n        var randomNum = 5; //myUtil.randomForArray(Global.randomGemStone);\n        /*  for (let i = 0; i < randomNum; i++) {\n              var instance = cc.instantiate(this.gemStone);\n              var posX = myUtil.randomForMinAndMax(-Global.screenHeight / 2 + 100, Global.screenHeight / 2 - 100);\n              var posY = myUtil.randomForMinAndMax(-Global.screenWidth / 2 + 100, Global.screenWidth / 2 - 100);\n              console.log('gemStone pos:', posX, posY);\n              instance.setPosition(cc.p(0, 0));\n              //instance.setPosition(cc.p(0, Global.screenHeight / 2 + 50));\n              //var action = cc.moveTo(2, cc.p(posX, posY)).easing(cc.easeElasticOut(1));\n              this.node.addChild(instance);\n              var pos = Global.startUI.goldNode.getPosition();\n              //var addNum = (i == randomNum - 1) ? 30 - randomNum : 1;\n              instance.getComponent('getGemStone').toRepeat([pos.x, pos.y], 1);\n              //instance.runAction(action);\n          }*/\n\n        var times = 30;\n        clearInterval(this.addInterval);\n        this.addInterval = setInterval(() => {\n            times -= 5;\n            if (times >= 0) {\n                var instance = cc.instantiate(this.gemStone);\n                instance.setPosition(cc.p(0, 0));\n                this.node.addChild(instance);\n                var pos = Global.startUI.goldNode.getPosition();\n                instance.getComponent('getGemStone').toPosition([pos.x, pos.y], 5);\n            } else {\n                clearInterval(this.addInterval);\n            }\n        }, 150);\n\n    },\n\n    //弹出道具详情\n    dialogForPropInfo: function () {\n        Global.game.showPropDialog(true);\n    },\n\n    //进入游戏\n    play: function () {\n        if (!Global.weightConfig) {\n            var self = this;\n            cc.loader.loadRes('weightConfig', function (err, data) {\n                Global.weightConfig = data.weightConfig;\n                self.onPlay();\n            });\n        } else {\n            this.onPlay();\n        }\n    },\n\n    onPlay: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.isDailyLimit = false;\n\n        //判断是否有存储\n        this.keepDataNode.active = false;\n        var parma = ThirdAPI.loadGameProgress();\n        if (!parma || (parma && parma.list.length <= 0)) {\n            Global.game.enterScene();\n            //记载点击开始游戏打点\n            var biManager = require('biManager');\n            biManager.bilog(biManager.startGame, null);\n        } else {\n            this.keepDataNode.active = true;\n        }\n    },\n\n    //存档进入游戏\n    keepDataEnterGame: function () {\n        var list = ThirdAPI.loadGameProgress();\n        console.log('keepDataEnterGame:', list);\n        Global.game.enterScene(list);\n        //记载点击开始游戏打点\n        var biManager = require('biManager');\n        biManager.bilog(biManager.startGame, null);\n    },\n\n    //重新开始\n    restartGame: function () {\n        ThirdAPI.clearGameProgressInfo();\n        Global.game.enterScene();\n        //记载点击开始游戏打点\n        var biManager = require('biManager');\n        biManager.bilog(biManager.startGame, null);\n    },\n\n    //存档关闭\n    closekeepData: function () {\n        this.keepDataNode.active = false;\n    },\n\n    //进入每日挑战\n    dailyPlay: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        if (!Global.dailyConfig) {\n            var self = this;\n            cc.loader.loadRes('grids', function (err, data) {\n                Global.dailyConfig = data;\n                self.onPlayDaily();\n                console.log(\"start ui 读取本地掉率json文件\", data);\n            });\n        } else {\n            this.onPlayDaily();\n        }\n    },\n\n    onPlayDaily: function () {\n        //判断挑战次数\n        if (Global.gameinfo.battleTimes <= 0) {\n            // Global.game.showDialogPropText(\"每日挑战次数到达上限\");\n            // console.log('开始界面，挑战次数不足');\n            if (typeof FBInstant !== 'undefined') {\n                var myUtil = require('myUtil');\n                ThirdAPI.shareGame(myUtil.getImgBase64(), this.onShareSuccess.bind(this));\n            } else if (typeof wx !== 'undefined') {\n                if (Global.cdnGameConfig && Global.cdnGameConfig.totalSwith) {\n                    ThirdAPI.shareGame('randomImg', this.onDailyShareSuccess.bind(this), this.onDailyShareFail.bind(this), '247');\n                } else {\n                    var wxRewardVideoAd = require('wxRewardVideoAd');\n                    wxRewardVideoAd.initCreateReward(this.onDailyAdSuccess.bind(this), this.onDailyAdFail.bind(this));\n                }\n            }\n            return;\n        }\n        Global.gameinfo.battleTimes--;\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        Global.isDailyLimit = true;\n        Global.game.enterScene();\n    },\n\n    onDailyShareSuccess: function (openGId) {\n        //游戏首页点击每日挑战并分享成功\n        var biManager = require('biManager');\n        biManager.bilog(biManager.dailyShare, null);\n\n        if (typeof wx !== 'undefined') {\n            if (!openGId) {\n                Global.game.showDialogText('分享失败，分享到群才有效');\n                console.log('分享失败，分享到群才有效');\n                return;\n            }\n        }\n        if (Global.gameinfo.shareData1.arrOpenGId.indexOf(openGId) != -1) {\n            console.log('该群今日已经分享过', openGId);\n            Global.game.showDialogText('分享失败，请分享到不同群');\n            return;\n        } else {\n            console.log('该群未分享过', openGId);\n            Global.gameinfo.shareData1.arrOpenGId.push(openGId);\n            ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        }\n\n        Global.gameinfo.battleTimes = Global.dailyBattleTimes;\n        Global.gameinfo.battleTimes--;\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        Global.isDailyLimit = true;\n        Global.game.enterScene();\n    },\n\n    onDailyShareFail: function (msg) {\n        if (msg === undefined) {\n            Global.game.showDialogText('分享失败！');\n        } else if (msg == 'fail') {\n            Global.game.showDialogText('分享失败，分享到群才有效');\n        } else if (msg == 'cancel') {\n            Global.game.showDialogText('分享失败！');\n        } else {\n            Global.game.showDialogText('分享失败！');\n        }\n    },\n\n    //每日挑战没有次数观看激励视频成功回调\n    onDailyAdSuccess: function () {\n        Global.gameinfo.battleTimes = Global.dailyBattleTimes;\n        Global.gameinfo.battleTimes--;\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        Global.isDailyLimit = true;\n        Global.game.enterScene();\n    },\n\n    //每日挑战观看激励视频失败\n    onDailyAdFail: function () {\n        Global.game.showDialogPropText('观看完整视频获得额外挑战次数');\n    },\n\n    //进入排行榜\n    showRankUI: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.game.showRank(true);\n    },\n\n    //皮肤商城\n    onShowStore: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.game.showStore();\n        this.showRedDot(false);\n    },\n\n    //pk竞技\n    onChallenge: function () {\n        ThirdAPI.showGameClub(false);\n        Global.game.playSound('btn', 0.1);\n        Global.shareUI.onChallenge();\n    },\n\n    switchBGM: function () {\n        Global.game.playSound('btn', 0.1);\n        if (Global.isBGMPlaying) {\n            this.pauseBGM();\n            this.soundOnBtn.active = false;\n            this.soundOffBtn.active = true;\n        } else {\n            this.playBGM();\n            this.soundOnBtn.active = true;\n            this.soundOffBtn.active = false;\n        }\n        Global.isBGMPlaying = !Global.isBGMPlaying;\n    },\n\n    playBGM: function () {\n        if (this.currentBGM > -1) {\n            cc.audioEngine.resume(this.currentBGM);\n        }\n    },\n\n    pauseBGM: function () {\n        if (this.currentBGM > -1) {\n            cc.audioEngine.pause(this.currentBGM);\n        }\n    },\n\n    // 按钮回调：更多游戏\n    onMoreGame: function () {\n        Global.game.playSound('btn', 0.1);\n        var LinkImages = require('LinkImages');\n\n        if (Global.linkImages && Global.linkImages.length > 0) {\n            console.log('link image : ', Global.linkImages, Global.linkImages.length);\n\n            let index = Math.floor(cc.random0To1() * Global.linkImages.length);\n            var httpStr = Global.linkImages[index];\n            console.log('httpStr:', httpStr);\n            LinkImages.previewImage(httpStr);\n        }\n    },\n});"]}