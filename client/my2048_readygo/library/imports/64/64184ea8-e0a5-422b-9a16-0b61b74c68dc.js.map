{"version":3,"sources":["../../../../../assets/Scripts/CommonFrame/assets/Scripts/CommonFrame/Util.js"],"names":["tywx","Util","isSceneQrCode","scene","qrCodeList","indexOf","createUUID","s","hexDigits","i","substr","Math","floor","random","uuid","join","getLocalUUID","local_uuid","getItemFromLocalStorage","setItemToLocalStorage","keyStr","defaultValue","cc","sys","localStorage","getItem","def_value","tmp","String","ValueStr","setItem","e","LOGE"],"mappings":";;;;;;AAAA;;;;AAKAA,KAAKC,IAAL,GAAY;;AAERC,mBAAc,uBAAUC,KAAV,EAAiB;AAC3B,YAAIC,aAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAjB,CAD2B,CACU;AACrC,eAAOA,WAAWC,OAAX,CAAmBF,KAAnB,IAA4B,CAAC,CAApC;AACH,KALO;;AAORG,gBAAY,sBAAW;AACnB,YAAIC,IAAI,EAAR;AACA,YAAIC,YAAY,kBAAhB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AACzBF,cAAEE,CAAF,IAAOD,UAAUE,MAAV,CAAiBC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,IAA3B,CAAjB,EAAmD,CAAnD,CAAP;AACH;AACDN,UAAE,EAAF,IAAQ,GAAR,CANmB,CAML;AACdA,UAAE,EAAF,IAAQC,UAAUE,MAAV,CAAkBH,EAAE,EAAF,IAAQ,GAAT,GAAgB,GAAjC,EAAsC,CAAtC,CAAR,CAPmB,CAOgC;AACnDA,UAAE,CAAF,IAAOA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQ,EAA/B;;AAEA,YAAIO,OAAOP,EAAEQ,IAAF,CAAO,EAAP,CAAX;AACA,eAAOD,IAAP;AACH,KAnBO;;AAqBRE,kBAAc,wBAAW;AACrB,YAAIC,aAAajB,KAAKC,IAAL,CAAUiB,uBAAV,CAAkC,gBAAlC,EAAoD,EAApD,CAAjB;AACA,YAAI,CAACD,UAAL,EAAgB;AACZA,yBAAajB,KAAKC,IAAL,CAAUK,UAAV,EAAb;AACAN,iBAAKC,IAAL,CAAUkB,qBAAV,CAAgC,gBAAhC,EAAkDF,UAAlD;AACH;AACD,eAAOA,UAAP;AACH,KA5BO;;AA8BRC,6BAAyB,iCAASE,MAAT,EAAiBC,YAAjB,EAA+B;AACpD,YAAG,CAACC,GAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAAxB,EAAiC;AAC7B,mBAAOC,SAAP;AACH;AACD,YAAIC,MAAML,GAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BL,MAA5B,CAAV;AACA,YAAI,CAACO,GAAL,EAAU;AACN,mBAAON,YAAP;AACH;AACD,eAAOO,OAAOD,GAAP,CAAP;AACH,KAvCO;;AAyCRR,2BAAuB,+BAASC,MAAT,EAAiBS,QAAjB,EAA2B;AAC9C,YAAG;AACCP,eAAGC,GAAH,CAAOC,YAAP,CAAoBM,OAApB,CAA4BV,MAA5B,EAAoCS,WAAS,EAA7C;AACH,SAFD,CAEE,OAAME,CAAN,EAAS;AACP/B,iBAAKgC,IAAL,CAAU,WAAV,EAAuB,4BAAvB;AACH;AACJ;AA/CO,CAAZ","file":"Util.js","sourceRoot":"../../../../../assets/Scripts/CommonFrame","sourcesContent":["/**\n * Created by xiaochuntian on 2018/5/2.\n */\n\n\ntywx.Util = {\n\n    isSceneQrCode:function (scene) {\n        var qrCodeList = [1047, 1048, 1049]; //扫描小程序码,选取小程序码,识别小程序码\n        return qrCodeList.indexOf(scene) > -1;\n    },\n\n    createUUID: function() {\n        var s = [];\n        var hexDigits = \"0123456789abcdef\";\n        for (var i = 0; i < 36; i++) {\n            s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n        }\n        s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n        s[8] = s[13] = s[18] = s[23] = \"\";\n\n        var uuid = s.join(\"\");\n        return uuid;\n    },\n\n    getLocalUUID: function() {\n        var local_uuid = tywx.Util.getItemFromLocalStorage(\"LOCAL_UUID_KEY\", \"\");\n        if (!local_uuid){\n            local_uuid = tywx.Util.createUUID();\n            tywx.Util.setItemToLocalStorage(\"LOCAL_UUID_KEY\", local_uuid)\n        }\n        return local_uuid;\n    },\n\n    getItemFromLocalStorage: function(keyStr, defaultValue) {\n        if(!cc.sys.localStorage.getItem) {\n            return def_value;\n        }\n        var tmp = cc.sys.localStorage.getItem(keyStr);\n        if (!tmp) {\n            return defaultValue;\n        }\n        return String(tmp);\n    },\n\n    setItemToLocalStorage: function(keyStr, ValueStr) {\n        try{\n            cc.sys.localStorage.setItem(keyStr, ValueStr+\"\");\n        } catch(e) {\n            tywx.LOGE(\"tywx.Util\", \"setItemToLocalStorage fail\");\n        }\n    }\n};\n"]}