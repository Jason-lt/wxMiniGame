{"version":3,"sources":["../../../../../../assets/Scripts/sdk_readygo/lib/assets/Scripts/sdk_readygo/lib/game.js"],"names":["_interopRequireDefault","e","__esModule","default","_classCallCheck","a","TypeError","_getBannerJson","t","Date","getTime","wx","setStorageSync","gameHttps","_config2","api","appId","then","bannerInfo","data","catch","myLog","logStatus","console","log","http","Promise","n","o","r","getStorageSync","request","url","method","header","success","code","fail","Checkparam","getErrparamData","msg","gameLogin","login","sdkVersion","noNeedAuthorize","openId","isNeedUpdateUserInfo","sessionId","JSON","stringify","userInfo","i","d","getPlatForm","getSystemInfoSync","name","info","system","indexOf","length","substring","getCodeImg","coin","gameCoin","gameCoinName","param","codeBody","previewImage","current","urls","c","midasPay","gameSdk","midasPayCheckIng","showToast","title","icon","duration","getOrderStatus","_code2","payUnEnd","res","orderCode","buyQuantity","waitOrderTime","midasPaying","checkOrder","now","requestMidasPayment","mode","env","offerId","currencyType","platform","zoneId","_confirmPay","paySuccess","payError","timer","setInterval","midasPayErrorNum","clearInterval","paySuccessDelay","midasPayRequestIng","pay_status","order_status","orderCancel","illegalOrderError","nativeCode","errCode","errMsg","cancelPay","midasErrorCode","wxGetUserInfo","getUserInfo","withCredentials","lang","encryptedData","iv","authorize","getSetting","authSetting","showModal","content","showCancel","confirm","openSetting","createOpenSettingButton","type","text","style","left","windowWidth","top","windowHeight","width","height","lineHeight","backgroundColor","color","textAlign","fontSize","borderRadius","onTap","hide","defineProperty","exports","value","_createClass","enumerable","configurable","writable","Object","key","prototype","_config","require","_code","window","innerWidth","innerHeight","toLocaleLowerCase","includes","SDKVersion","version","createUserInfoButton","image","s","payType","purpose","u","g","f","time"],"mappings":"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","file":"game.js","sourceRoot":"../../../../../../assets/Scripts/sdk_readygo/lib","sourcesContent":["\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError(\"Cannot call a class as a function\")}function _getBannerJson(e,a){try{var t=(new Date).getTime();wx.setStorageSync(\"lastGetBannerTime\",t),gameHttps(_config2.default.api+\"game/getSwitchConfig?appId=\"+_config2.default.appId,\"\",\"GET\").then(function(a){bannerInfo=a.data,e&&e(bannerInfo)}).catch(function(e){a&&a(e)})}catch(e){a&&a(e)}}function myLog(e){logStatus&&console.log(e)}function http(e,a,t){try{return new Promise(function(n,o){var r=wx.getStorageSync(\"sessionId\")||\"\";wx.request({url:_config2.default.api+t,data:e,method:a,header:{\"content-type\":\"application/json\",\"session-id\":r},success:function(e){0==e.data.code?n(e.data):o(e.data)},fail:function(e){o(e)}})})}catch(e){myLog(e)}}function Checkparam(e){myLog(e);for(var a in e)if(\"boolean\"!=typeof e[a]&&(null==e[a]||\"\"==e[a]||\"undefined\"==e[a]))return console.log(e[a]),-1;return 1}function getErrparamData(e){return myLog(e),{code:-10111,data:\"\",msg:e}}function gameLogin(e,a,t){try{wx.login({success:function(n){var o=n.code,r={code:o,appId:_config2.default.appId,sdkVersion:sdkVersion,noNeedAuthorize:t||!1};if(1==Checkparam(r))http(r,\"POST\",\"user/login\").then(function(t){if(0==t.code){if(wx.setStorageSync(\"uid\",t.data.openId),!t.data.isNeedUpdateUserInfo){myLog(\"保存了sessionId\"+t.data.sessionId),wx.setStorageSync(\"sessionId\",t.data.sessionId);var n=JSON.stringify(t.data.userInfo);wx.setStorageSync(\"gameUserInfo\",n),_getBannerJson()}e(t)}else a(t)},function(e){a(e)});else{var i=\"前端检查参数不正确\"+JSON.stringify(r),d=getErrparamData(i);a(d)}},fail:function(e){a(e)}})}catch(e){a(e)}}function getPlatForm(){try{var e=wx.getSystemInfoSync();return myLog({name:\"当前设备\",info:e}),0==e.system.indexOf(\"iOS\")?\"ios\":0==e.system.indexOf(\"Android\")?\"android\":e.system.length>10?e.system.substring(0,10):e.system}catch(e){return myLog(e),\"error\"}}function getCodeImg(e,a,t,n,o,r){try{var i={openId:wx.getStorageSync(\"uid\"),appId:_config2.default.appId,coin:e,gameCoin:a,gameCoinName:t,param:n};if(1==Checkparam(i)){http({codeBody:JSON.stringify(i)},\"POST\",\"gamepay/createWXACode\").then(function(e){var a=e.data;wx.previewImage({current:a,urls:[a],success:function(e){myLog(e),o(e)},fail:function(e){r(e)}})},function(e){r(e)})}else{var d=\"前端检查参数不正确\"+JSON.stringify(i),c=getErrparamData(d);r(c)}}catch(e){myLog(e)}}function midasPay(e,a,t){try{var n=Checkparam(e);if(1==gameSdk.midasPayCheckIng){console.log(\"限制在支付成功后轮询成功前不允许重复下单支付 midasPay\"),wx.showToast({title:\"您有订单正在处理中，请稍后再试\",icon:\"none\",duration:2e3});var o=getOrderStatus(_code2.default.payUnEnd);return void t(o)}if(1==n)http(e,\"POST\",\"gamepay/addCoinOrder\").then(function(e){myLog({name:\"成功获取订单\",res:e});var n=e.data;orderCode=e.data.orderCode;var o=e.data.buyQuantity;waitOrderTime=1,0==o?(gameSdk.midasPaying=!1,gameSdk.midasPayCheckIng=!0,checkOrder(a,t)):(console.log(\"midasPaytime====真正的米大师支付时间\",Date.now(),\"midasPayStatus==\"+gameSdk.midasPaying),wx.requestMidasPayment({mode:n.mode,env:n.env,offerId:n.offerId,currencyType:n.currencyType,platform:n.platform,buyQuantity:o,zoneId:n.zoneId,success:function(e){myLog({name:\"成功回调\",res:e}),_confirmPay(orderCode).then(function(e){var t=getOrderStatus(_code2.default.paySuccess);a(t)}).catch(function(e){var a=getOrderStatus(_code2.default.payError,e);t(a)})},fail:function(e){console.log(\"米大师错误返回:\",e);var a=getOrderStatus(_code2.default.payError,e);t(a)}}))}).catch(function(e){myLog({name:\"获取订单失败\",res:e}),40121==e.code&&wx.showToast({title:e.msg,icon:\"none\",duration:2e3}),t(e)});else{var r=\"前端检查参数不正确\"+JSON.stringify(e),i=getErrparamData(r);t(i)}}catch(e){t(e)}}function checkOrder(e,a){try{timer=setInterval(function(){var t=wx.getStorageSync(\"sessionId\");if(myLog(\"订单号:\"+orderCode+\"--appId:\"+_config2.default.appId+\"--sessionId:\"+t+\"---waitOrderTime:\"+waitOrderTime+\"---midasPayErrorNum:\"+gameSdk.midasPayErrorNum),waitOrderTime>120){myLog(\"state=5\"),clearInterval(timer),gameSdk.midasPayCheckIng=!1,waitOrderTime=1;var n=getOrderStatus(_code2.default.paySuccessDelay);return void e(n)}if(1==gameSdk.midasPayRequestIng)return void(waitOrderTime+=1);gameSdk.midasPayRequestIng=!0,http(\"\",\"GET\",\"gamepay/getCoinOrderStatus?orderCode=\"+orderCode+\"&appId=\"+_config2.default.appId).then(function(t){myLog({name:\"成功回调\",\"回调参数\":t}),gameSdk.midasPayRequestIng=!1;var n=t.data;if(1==n.pay_status){myLog(\"pay_status=1\"),clearInterval(timer),gameSdk.midasPayCheckIng=!1,waitOrderTime=1;var o=getOrderStatus(_code2.default.paySuccess);return void e(o)}if(0==n.pay_status&&(myLog(\"pay_status=0\"),waitOrderTime+=1),0!=n.order_status){myLog(\"order_status=2\"),clearInterval(timer),gameSdk.midasPayCheckIng=!1,waitOrderTime=1;var r=getOrderStatus(_code2.default.orderCancel);a(r)}}).catch(function(e){gameSdk.midasPayErrorNum++,gameSdk.midasPayErrorNum>119&&(gameSdk.midasPayErrorNum=0,clearInterval(timer),gameSdk.midasPayCheckIng=!1),e.code&&e.code==_code2.default.illegalOrderError.code&&(clearInterval(timer),gameSdk.midasPayCheckIng=!1,a(e)),myLog({name:\"错误回调\",\"回调参数\":e}),gameSdk.midasPayRequestIng=!1,waitOrderTime=1})},1e3)}catch(e){a(e)}}function _confirmPay(e){return http({orderCode:e},\"POST\",\"gamepay/confirmPay\")}function getOrderStatus(e,a){try{var t=e;return a&&(t.nativeCode=a.errCode,t.msg=a.errMsg),console.log(\"米大师支付状态:,\",t),t}catch(e){console.log(e)}}function cancelPay(e){http({orderCode:orderCode,midasErrorCode:e},\"POST\",\"gamepay/cancelCoinOrder\").then(function(e){console.log(\"用户支付失败已告知服务器\")},function(e){})}function gameHttps(e,a,t){try{return\"GET\"==t&&(e=gameSdk.stringify(e,a)),new Promise(function(n,o){var r=wx.getStorageSync(\"sessionId\")||\"\";wx.request({url:e,data:a,method:t,header:{\"content-type\":\"application/json\",\"session-id\":r},success:function(e){var a=e.data.code;e.data.data&&e.data.data.code&&(a=e.data.data.code),0==a?n(e.data):o(e.data)},fail:function(e){o(e)}})})}catch(e){myLog(e)}}function wxGetUserInfo(e,a){try{wx.getUserInfo({withCredentials:!0,lang:\"zh_CN\",success:function(t){var n={encryptedData:t.encryptedData,iv:t.iv};gameSdk.authorize(n,e,a)},fail:function(t){wx.getSetting({success:function(t){t.authSetting[\"scope.userInfo\"]||wx.showModal({title:\"警告\",content:\"您点击了拒绝授权，将无法正常使用小游戏的功能体验，请授权重新进入。\",showCancel:!1,success:function(t){t.confirm&&wx.openSetting({success:function(t){myLog(t),wxGetUserInfo(e,a)},fail:function(t){var n=wx.createOpenSettingButton({type:\"text\",text:\"打开设置页面\",style:{left:windowWidth/2-100,top:windowHeight/2-20,width:200,height:40,lineHeight:40,backgroundColor:\"#ff0000\",color:\"#ffffff\",textAlign:\"center\",fontSize:16,borderRadius:4}});n.onTap(function(){n.hide(),wxGetUserInfo(e,a)})}})}})}})}})}catch(e){a(e)}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),_config=require(\"./config.js\"),_config2=_interopRequireDefault(_config),_code=require(\"./code.js\"),_code2=_interopRequireDefault(_code),sdkVersion=\"1.1.0\",logStatus=!0,timer=null,orderCode=\"\",waitOrderTime=1,windowWidth=window.innerWidth,windowHeight=window.innerHeight,bannerInfo={},gameSdk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:\"createUserInfoBtn\",value:function(e,a,t,n,o,r){try{var i=wx.getSystemInfoSync();if(console.log(i),console.log(\"是否为iphone:\"+i.system.toLocaleLowerCase().includes(\"ios\")),myLog(\"SDK版本号:\"+i.SDKVersion),i.SDKVersion<\"2.0.6\")return void wxGetUserInfo(o,r);if(i.system.toLocaleLowerCase().includes(\"ios\")&&i.version<\"6.6.7\"&&i.SDKVersion<\"2.1.0\")return void wxGetUserInfo(o,r);var d=wx.createUserInfoButton({type:e,text:a,image:t,style:n,withCredentials:!0,lang:\"zh_CN\"});o({code:1,data:d,msg:\"success\"})}catch(e){wxGetUserInfo(o,r)}}},{key:\"pay\",value:function(a,t,n,o,r,i){try{if(e.midasPaying)return void console.log(\"并发调用拦截 midasPay\");e.midasPaying=!0,wx.login({success:function(d){console.log(d);var c=d.code,s={code:c,appId:_config2.default.appId};gameHttps(_config2.default.api+\"login/checkOrRefreshSessionkey\",s,\"POST\").then(function(d){http(\"\",\"GET\",\"gamepay/getGamePayType?os=\"+getPlatForm()+\"&appId=\"+_config2.default.appId).then(function(d){myLog(d);var c=d.data;if(\"midas\"!=c&&(e.midasPaying=!1),\"wxpay\"==c)getCodeImg(a,t,n,o,r,i);else if(\"midas\"==c){myLog(\"midasPay\");var s={coin:a,gameCoinName:n,gameCoin:t,param:o,payType:\"midas\",purpose:2,appId:_config2.default.appId},u=function(a){e.midasPaying=!1,r&&r(a)},g=function(a){e.midasPaying=!1,i&&i(a)};midasPay(s,u,g)}else if(\"none\"==c){myLog(\"pay none\");var f={code:10406,data:\"none\",msg:\"当前暂不支持充值\"};i(f)}else i(d)},function(a){e.midasPaying=!1,i(a)})}).catch(function(a){i(a),e.midasPaying=!1})},fail:function(a){e.midasPaying=!1,i(a)}})}catch(a){e.midasPaying=!1,i(a)}}},{key:\"login\",value:function(e,a,t){myLog({name:\"logName\",time:\"00:00\"}),gameLogin(e,a,t)}},{key:\"authorize\",value:function(e,a,t){try{var n=wx.getStorageSync(\"uid\"),o={encryptedData:e.encryptedData,iv:e.iv,openId:n,appId:_config2.default.appId};if(1==Checkparam(o))http(o,\"POST\",\"user/update\").then(function(e){gameLogin(a,t,!0)},function(e){t(e)});else{var r=\"前端检查参数不正确\"+JSON.stringify(o),i=getErrparamData(r);t(i)}}catch(e){t(e)}}},{key:\"gameHttp\",value:function(e,a,t){try{return\"GET\"==t&&(e=this.stringify(e,a)),new Promise(function(n,o){var r=wx.getStorageSync(\"sessionId\")||\"\";wx.request({url:_config2.default.api+e,data:a,method:t,header:{\"content-type\":\"application/json\",\"session-id\":r},success:function(e){var a=e.data.code;e.data.data&&e.data.data.code&&(a=e.data.data.code),0==a?n(e.data):o(e.data)},fail:function(e){o(e)}})})}catch(e){myLog(e)}}},{key:\"getMysteryGift\",value:function(e,a,t){gameHttps(_config2.default.api+\"share/readSelfNotice?noticeId=\"+e,\"\",\"GET\").then(function(e){a(e)}).catch(function(e){t(e)})}},{key:\"stringify\",value:function(e,a){var t=0;for(var n in a)0==t?(e=e+\"?\"+n+\"=\"+a[n],t++):e=e+\"&\"+n+\"=\"+a[n];return e}},{key:\"getOpenId\",value:function(){return wx.getStorageSync(\"uid\")}},{key:\"checkBannerSwitch\",value:function(e,a){try{((new Date).getTime()-wx.getStorageSync(\"lastGetBannerTime\"))/1e3/60>10?\"{}\"==JSON.stringify(bannerInfo)?_getBannerJson(e,a):(e(bannerInfo),_getBannerJson()):\"{}\"==JSON.stringify(bannerInfo)?_getBannerJson(e,a):e(bannerInfo)}catch(e){a(e)}}},{key:\"decryptShareTicket\",value:function(e,a,t,n){try{var o={iv:e,encryptedData:a,appId:_config2.default.appId};gameHttps(_config2.default.api+\"user/decryptWXData\",o,\"POST\").then(function(e){t(e)}).catch(function(e){n(e)})}catch(e){n(e)}}}]),e}();gameSdk.midasPaying=!1,gameSdk.midasPayCheckIng=!1,gameSdk.midasPayRequestIng=!1,gameSdk.midasPayErrorNum=0,exports.default=gameSdk;"]}