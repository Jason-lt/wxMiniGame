{"version":3,"sources":["../../../../../assets/Scripts/ui/assets/Scripts/ui/UIPropInfo.js"],"names":["ThirdAPI","require","cc","Class","extends","Component","properties","mainNode","default","type","Node","successNode","gainPropIcon","Sprite","gainPropName","Label","light","propSprite","propName","propNum","propInfo","chest","title","myParticleSystem1","ParticleSystem","myParticleSystem2","flySprite","shareBtn","isChest","showText","parmaIndex","gridControllerScript","randomIndex","closeTimer","start","initData","active","setVisible","btnLabel","getChildByName","Global","cdnGameConfig","totalSwith","width","getComponent","string","gridController","onPauseGameForOther","callback","callFunc","showChest","randomProp","scale","finished","chestRunAction","spawnAction","sequence","scaleTo","runAction","setTimeout","node","repeatForever","rotateBy","delayTime","playScale","spawn","myUtil","randomForArray","randomPropCode","console","log","name","gameinfo","clearPropNum","superPropNum","doublePropNum","self","LoadAtlas","loadAtlasRes","spriteFrame","getSpriteFrameFromName","prop_parma","randomPropInfo","desc","color","Color","rect","getRect","height","onShargeGame","game","playSound","FBInstant","shareGame","getImgBase64","wx","sourceCode","img","onShareSuccess","bind","onShareFailed","wxRewardVideoAd","initCreateReward","onAdSuccess","onAdFail","tywx","LOGE","openGId","biManager","bilog","chestShare","showDialogText","shareData1","arrOpenGId","indexOf","push","saveFriendGenStoneInfo","canvas","find","button","playLightAction","parseInt","gainAddPropNum","getClearPropNum","saveClearPropNum","getSuperPropNum","saveSuperPropNum","startUI","updateGold","showGold","addPropSprite","setPropSprite","onClose","showDialogPropText","msg","undefined","scaleToClose","propFly","layoutPos","propLayout","getPosition","propPos","p","clearUseNumNode","parent","toPos","superUseNumNode","setPosition","flyAction","moveTo","hideAction","fadeTo","clearTimeout","removeNode","wxBannerAd","createBannerAd","removeChild","propInfoUI"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,WAAWC,QAAQ,oBAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAU;AACNC,qBAAS,IADH;AAENC,kBAAMP,GAAGQ;AAFH,SADF;AAKRC,qBAAa;AACTH,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SALL;AASRE,sBAAc;AACVJ,qBAAS,IADC;AAEVC,kBAAMP,GAAGW;AAFC,SATN;AAaRC,sBAAc;AACVN,qBAAS,IADC;AAEVC,kBAAMP,GAAGa;AAFC,SAbN;AAiBRC,eAAO;AACHR,qBAAS,IADN;AAEHC,kBAAMP,GAAGW;AAFN,SAjBC;AAqBRI,oBAAY;AACRT,qBAAS,IADD;AAERC,kBAAMP,GAAGW;AAFD,SArBJ;AAyBRK,kBAAU;AACNV,qBAAS,IADH;AAENC,kBAAMP,GAAGa;AAFH,SAzBF;AA6BRI,iBAAS;AACLX,qBAAS,IADJ;AAELC,kBAAMP,GAAGa;AAFJ,SA7BD;AAiCRK,kBAAU;AACNZ,qBAAS,IADH;AAENC,kBAAMP,GAAGa;AAFH,SAjCF;AAqCRM,eAAO;AACHb,qBAAS,IADN;AAEHC,kBAAMP,GAAGW;AAFN,SArCC;AAyCRS,eAAO;AACHd,qBAAS,IADN;AAEHC,kBAAMP,GAAGa;AAFN,SAzCC;AA6CRQ,2BAAmB;AACff,qBAAS,IADM;AAEfC,kBAAMP,GAAGsB;AAFM,SA7CX;AAiDRC,2BAAmB;AACfjB,qBAAS,IADM;AAEfC,kBAAMP,GAAGsB;AAFM,SAjDX;AAqDRE,mBAAW;AACPlB,qBAAS,IADF;AAEPC,kBAAMP,GAAGW;AAFF,SArDH;;AA0DRc,kBAAU;AACNnB,qBAAS,IADH;AAENC,kBAAMP,GAAGQ;AAFH,SA1DF;;AA+DRkB,iBAAS,KA/DD,EA+DQ;AAChBC,kBAAU,EAhEF,EAgEM;AACdC,oBAAY,CAAC,CAjEL,EAiEQ;AAChBC,8BAAsB,IAlEd;AAmERC,qBAAa,CAnEL,EAmEQ;AAChBC,oBAAY;AApEJ,KAHP;;AA0EL;;AAEA;;AAEAC,SA9EK,mBA8EG,CAEP,CAhFI;;;AAkFLC,cAAU,kBAAUP,OAAV,EAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAC/C,aAAKvB,QAAL,CAAc6B,MAAd,GAAuB,IAAvB;AACA,aAAKzB,WAAL,CAAiByB,MAAjB,GAA0B,KAA1B;AACA,aAAKV,SAAL,CAAeW,UAAf,CAA0B,KAA1B;;AAEA,YAAIC,WAAW,KAAKX,QAAL,CAAcY,cAAd,CAA6B,OAA7B,CAAf;AACA,YAAIC,OAAOC,aAAP,IAAwBD,OAAOC,aAAP,CAAqBC,UAAjD,EAA6D;AACzD,iBAAKf,QAAL,CAAcgB,KAAd,GAAsB,GAAtB;AACAL,qBAASM,YAAT,CAAsB1C,GAAGa,KAAzB,EAAgC8B,MAAhC,GAAyC,MAAzC;AACH,SAHD,MAGO;AACH,iBAAKlB,QAAL,CAAcgB,KAAd,GAAsB,GAAtB;AACAL,qBAASM,YAAT,CAAsB1C,GAAGa,KAAzB,EAAgC8B,MAAhC,GAAyC,QAAzC;AACH;;AAED,YAAIL,OAAOM,cAAX,EAA2B;AACvB,iBAAKf,oBAAL,GAA4BS,OAAOM,cAAP,CAAsBF,YAAtB,CAAmC,gBAAnC,CAA5B;AACA,iBAAKb,oBAAL,CAA0BgB,mBAA1B;AACH;;AAED,YAAIC,WAAW9C,GAAG+C,QAAH,CAAY,YAAY;AACnC,iBAAKrB,OAAL,GAAeA,OAAf;AACA,iBAAKC,QAAL,GAAgBA,QAAhB;AACA,iBAAKC,UAAL,GAAkBA,UAAlB;AACA,iBAAKR,KAAL,CAAWuB,MAAX,GAAoB,KAAKjB,OAAL,GAAe,QAAf,GAA0B,IAA9C;AACA,gBAAI,KAAKA,OAAT,EAAkB;AACd,qBAAKsB,SAAL;AACH,aAFD,MAEO;AACH,qBAAKC,UAAL;AACH;AACJ,SAVc,EAUZ,IAVY,CAAf;;AAYA,aAAK5C,QAAL,CAAc6C,KAAd,GAAsB,GAAtB;AACA,YAAIC,WAAWnD,GAAG+C,QAAH,CAAY,KAAKK,cAAjB,EAAiC,IAAjC,CAAf;AACA,YAAIC,cAAcrD,GAAGsD,QAAH,CAAYR,QAAZ,EAAsB9C,GAAGuD,OAAH,CAAW,GAAX,EAAgB,IAAhB,CAAtB,EAA6CvD,GAAGuD,OAAH,CAAW,GAAX,EAAgB,CAAhB,CAA7C,EAAiEJ,QAAjE,CAAlB;AACA,aAAK9C,QAAL,CAAcmD,SAAd,CAAwBH,WAAxB;;AAEA;AACAI,mBAAW,YAAM;AACb;AACH,SAFD,EAEG,GAFH;;AAIA;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;;AAEA;;;;AAKA;;;;;;;;;;;;;AAaH,KAlKI;;AAoKLL,oBAAgB,0BAAY;AACxB,aAAKjC,KAAL,CAAWuC,IAAX,CAAgBF,SAAhB,CACIxD,GAAG2D,aAAH,CACI3D,GAAGsD,QAAH,CAAYtD,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAZ,EAAkC5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAlC,EAAyD5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAzD,EAA+E5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAA/E,EAAsG5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAtG,EAA4H5D,GAAG6D,SAAH,CAAa,CAAb,CAA5H,CADJ,CADJ;AAIH,KAzKI;;AA2KL;AACAC,eAAW,qBAAY;AACnB,YAAIhB,WAAW9C,GAAG+C,QAAH,CAAY,YAAY;AACnC,gBAAIT,OAAOM,cAAX,EAA2B;AACvB,qBAAKf,oBAAL,GAA4BS,OAAOM,cAAP,CAAsBF,YAAtB,CAAmC,gBAAnC,CAA5B;AACA,qBAAKb,oBAAL,CAA0BgB,mBAA1B;AACH;AACD,iBAAKnB,OAAL,GAAeA,OAAf;AACA,iBAAKC,QAAL,GAAgBA,QAAhB;AACA,iBAAKC,UAAL,GAAkBA,UAAlB;AACA,iBAAKR,KAAL,CAAWuB,MAAX,GAAoB,KAAKjB,OAAL,GAAe,KAAf,GAAuB,IAA3C;AACA,gBAAI,KAAKA,OAAT,EAAkB;AACd,qBAAKsB,SAAL;AACH,aAFD,MAEO;AACH,qBAAKC,UAAL;AACH;AAEJ,SAfc,EAeZ,IAfY,CAAf;AAgBA,YAAII,cAAcrD,GAAG+D,KAAH,CAAS/D,GAAGsD,QAAH,CAAYtD,GAAGuD,OAAH,CAAW,CAAX,EAAc,GAAd,CAAZ,EAAgCvD,GAAGuD,OAAH,CAAW,GAAX,EAAgB,CAAhB,CAAhC,CAAT,CAAlB;AACA,aAAKG,IAAL,CAAUF,SAAV,CAAoBH,WAApB,EAAiCP,QAAjC;AACH,KA/LI;;AAiML;AACAG,gBAAY,sBAAY;AACpB,aAAKlC,UAAL,CAAgBoB,UAAhB,CAA2B,IAA3B;AACA,aAAKhB,KAAL,CAAWgB,UAAX,CAAsB,KAAtB;AACA,YAAI6B,SAASjE,QAAQ,QAAR,CAAb;AACA,aAAK+B,WAAL,GAAmBkC,OAAOC,cAAP,CAAsB3B,OAAO4B,cAA7B,CAAnB;AACA,YAAI,KAAKtC,UAAL,IAAmB,CAAC,CAAxB,EAA2B;AACvBuC,oBAAQC,GAAR,CAAY,aAAa,KAAKxC,UAA9B;AACA,iBAAKE,WAAL,GAAmB,KAAKF,UAAxB;AACH;AACDuC,gBAAQC,GAAR,CAAY,iBAAiB,KAAKtC,WAAlC;;AAEA,YAAIuC,OAAO,WAAX;AACA,YAAIpD,UAAU,CAAd;AACA,YAAI,KAAKa,WAAL,IAAoB,CAAxB,EAA2B;AACvBuC,mBAAO,aAAP;AACApD,sBAAUqB,OAAOgC,QAAP,CAAgBC,YAA1B;AACH,SAHD,MAGO,IAAI,KAAKzC,WAAL,IAAoB,CAAxB,EAA2B;AAC9BuC,mBAAO,aAAP;AACApD,sBAAUqB,OAAOgC,QAAP,CAAgBE,YAA1B;AACH,SAHM,MAGA,IAAI,KAAK1C,WAAL,IAAoB,CAAxB,EAA2B;AAC9BuC,mBAAO,cAAP;AACApD,sBAAUqB,OAAOgC,QAAP,CAAgBG,aAA1B;AACH;;AAED,YAAIC,OAAO,IAAX;AACA,YAAIC,YAAY5E,QAAQ,WAAR,CAAhB;AACA4E,kBAAUC,YAAV,CAAuB,yBAAvB,EAAkD,YAAY;AAC1D,gBAAID,YAAY5E,QAAQ,WAAR,CAAhB;AACA2E,iBAAK3D,UAAL,CAAgB8D,WAAhB,GAA8BF,UAAUG,sBAAV,CAAiC,yBAAjC,EAA4DT,IAA5D,CAA9B;AACH,SAHD;;AAKA;AACA,YAAIU,aAAazC,OAAO0C,cAAP,CAAsBN,KAAK5C,WAA3B,CAAjB;AACA,YAAIiD,UAAJ,EAAgB;AACZ,iBAAK/D,QAAL,CAAc2B,MAAd,GAAuBoC,WAAWV,IAAlC;AACA,iBAAKnD,QAAL,CAAcyB,MAAd,GAAuBoC,WAAWE,IAAlC;;AAEA,iBAAKhE,OAAL,CAAa0B,MAAb,GAAsB,MAAM1B,OAA5B;AACA,gBAAIA,UAAU,CAAd,EAAiB;AACb,qBAAKA,OAAL,CAAayC,IAAb,CAAkBwB,KAAlB,GAA0B,IAAIlF,GAAGmF,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,EAAvB,CAA1B;AACH,aAFD,MAEO;AACH,qBAAKlE,OAAL,CAAayC,IAAb,CAAkBwB,KAAlB,GAA0B,IAAIlF,GAAGmF,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA1B;AACH;AACJ;AACJ,KA9OI;;AAgPL;AACAnC,eAAW,qBAAY;AACnB,YAAI0B,OAAO,IAAX;AACAA,aAAK3D,UAAL,CAAgBoB,UAAhB,CAA2B,KAA3B;AACAuC,aAAKvD,KAAL,CAAWgB,UAAX,CAAsB,IAAtB;AACA,YAAI6B,SAASjE,QAAQ,QAAR,CAAb;AACA2E,aAAK5C,WAAL,GAAmBkC,OAAOC,cAAP,CAAsB3B,OAAO4B,cAA7B,CAAnB;AACAQ,aAAK5C,WAAL,GAAmBkC,OAAOC,cAAP,CAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB,CAAnB;AACAE,gBAAQC,GAAR,CAAY,iBAAiBM,KAAK5C,WAAlC;;AAEA,YAAI6C,YAAY5E,QAAQ,WAAR,CAAhB;AACA4E,kBAAUC,YAAV,CAAuB,yBAAvB,EAAkD,YAAY;AAC1D,gBAAID,YAAY5E,QAAQ,WAAR,CAAhB;AACA2E,iBAAKvD,KAAL,CAAW0D,WAAX,GAAyBF,UAAUG,sBAAV,CAAiC,yBAAjC,EAA4D,OAA5D,CAAzB;;AAEA,gBAAIM,OAAOV,KAAKvD,KAAL,CAAW0D,WAAX,CAAuBQ,OAAvB,EAAX;AACAX,iBAAKvD,KAAL,CAAWuC,IAAX,CAAgBjB,KAAhB,GAAwB2C,KAAK3C,KAA7B;AACAiC,iBAAKvD,KAAL,CAAWuC,IAAX,CAAgB4B,MAAhB,GAAyBF,KAAKE,MAA9B;AACAZ,iBAAKvD,KAAL,CAAWuC,IAAX,CAAgBR,KAAhB,GAAwB,CAAxB;AACH,SARD;;AAUA,aAAKlC,QAAL,CAAc2B,MAAd,GAAuB,EAAvB;AACA,aAAK1B,OAAL,CAAa0B,MAAb,GAAsB,EAAtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA+B,aAAKxD,QAAL,CAAcyB,MAAd,GAAuB,iBAAvB;AACH,KAlRI;;AAoRL4C,kBAAc,wBAAY;AACtBjD,eAAOkD,IAAP,CAAYC,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA,YAAIzB,SAASjE,QAAQ,QAAR,CAAb;AACA,YAAI,OAAO2F,SAAP,KAAqB,WAAzB,EAAsC;AAClC5F,qBAAS6F,SAAT,CAAmB3B,OAAO4B,YAAP,EAAnB,EAA0C,IAA1C;AACH,SAFD,MAEO,IAAI,OAAOC,EAAP,KAAc,WAAlB,EAA+B;AAClC,gBAAIC,aAAa,KAAjB;AACA,gBAAIC,MAAM,WAAV;AACA,gBAAI,KAAKjE,WAAL,IAAoB,CAAxB,EAA2B;AACvBgE,6BAAa,KAAb;AACAC,sBAAM,IAAN;AACH,aAHD,MAGO,IAAI,KAAKjE,WAAL,IAAoB,CAAxB,EAA2B;AAC9BgE,6BAAa,KAAb;AACAC,sBAAM,IAAN;AACH,aAHM,MAGA,IAAI,KAAKjE,WAAL,IAAoB,CAAxB,EAA2B;AAC9BgE,6BAAa,KAAb;AACAC,sBAAM,IAAN;AACH,aAHM,MAGA,IAAI,KAAKjE,WAAL,IAAoB,CAAxB,EAA2B;AAC9BgE,6BAAa,KAAb;AACAC,sBAAM,WAAN;AACH;AACD,gBAAIzD,OAAOC,aAAP,IAAwBD,OAAOC,aAAP,CAAqBC,UAAjD,EAA6D;AACzD1C,yBAAS6F,SAAT,CAAmBI,GAAnB,EAAwB,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAxB,EAAwD,KAAKC,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAAxD,EAAuFH,UAAvF;AACH,aAFD,MAEO;AACH,oBAAIK,kBAAkBpG,QAAQ,iBAAR,CAAtB;AACAoG,gCAAgBC,gBAAhB,CAAiC,KAAKC,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAjC,EAA8D,KAAKK,QAAL,CAAcL,IAAd,CAAmB,IAAnB,CAA9D;AACH;AACJ,SAtBM,MAsBA;AACHM,iBAAKC,IAAL,CAAU,EAAV,EAAa,+CAAb;AACA,iBAAKR,cAAL;AACH;AACJ,KAnTI;;AAqTLA,oBAAgB,wBAAUS,OAAV,EAAmB;AAC/B;AACA,YAAIC,YAAY3G,QAAQ,WAAR,CAAhB;AACA2G,kBAAUC,KAAV,CAAgBD,UAAUE,UAA1B,EAAsC,IAAtC;;AAEA,YAAI,OAAOf,EAAP,KAAc,WAAlB,EAA+B;AAC3B,gBAAI,CAACY,OAAL,EAAc;AACVnE,uBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,cAA3B;AACA1C,wBAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AACJ;;AAED,YAAI9B,OAAOgC,QAAP,CAAgBwC,UAAhB,CAA2BC,UAA3B,CAAsCC,OAAtC,CAA8CP,OAA9C,KAA0D,CAAC,CAA/D,EAAkE;AAC9DtC,oBAAQC,GAAR,CAAY,WAAZ,EAAyBqC,OAAzB;AACAnE,mBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,cAA3B;AACA;AACH,SAJD,MAIO;AACH1C,oBAAQC,GAAR,CAAY,QAAZ,EAAsBqC,OAAtB;AACAnE,mBAAOgC,QAAP,CAAgBwC,UAAhB,CAA2BC,UAA3B,CAAsCE,IAAtC,CAA2CR,OAA3C;AACA3G,qBAASoH,sBAAT,CAAgC5E,OAAOgC,QAAvC;AACH;AACD,aAAK+B,WAAL;AACH,KA5UI;;AA8UL;AACAA,iBAAa,uBAAY;AAAA;;AACrB;AACA,YAAIc,SAASnH,GAAGoH,IAAH,CAAQ,QAAR,CAAb;AACA,YAAIC,SAAS,KAAK5G,WAAL,CAAiB4B,cAAjB,CAAgC,QAAhC,CAAb;AACA,YAAIgF,MAAJ,EAAY;AACRA,mBAAO5E,KAAP,GAAe0E,OAAO1E,KAAtB;AACA4E,mBAAO5E,KAAP,GAAe0E,OAAO1E,KAAtB;AACH;AACD,aAAK6E,eAAL;;AAEA,aAAKjH,QAAL,CAAc6B,MAAd,GAAuB,KAAvB;AACA,aAAKzB,WAAL,CAAiByB,MAAjB,GAA0B,IAA1B;AACA,YAAI6C,aAAazC,OAAO0C,cAAP,CAAsB,KAAKlD,WAA3B,CAAjB;AACAqC,gBAAQC,GAAR,CAAY,MAAZ,EAAoBW,WAAWV,IAA/B,EAAqCkD,SAASxC,WAAWyC,cAApB,CAArC;AACA;AACA,YAAIzC,UAAJ,EAAgB;AACZ,gBAAI,KAAKjD,WAAL,IAAoB,CAAxB,EAA2B;AACvBQ,uBAAOgC,QAAP,CAAgBC,YAAhB,GAA+BzE,SAAS2H,eAAT,EAA/B;AACAnF,uBAAOgC,QAAP,CAAgBC,YAAhB,IAAgCgD,SAASxC,WAAWyC,cAApB,CAAhC;AACA1H,yBAAS4H,gBAAT,CAA0BpF,OAAOgC,QAAP,CAAgBC,YAA1C;AACH,aAJD,MAIO,IAAI,KAAKzC,WAAL,IAAoB,CAAxB,EAA2B;AAC9BQ,uBAAOgC,QAAP,CAAgBE,YAAhB,GAA+B1E,SAAS6H,eAAT,EAA/B;AACArF,uBAAOgC,QAAP,CAAgBE,YAAhB,IAAgC+C,SAASxC,WAAWyC,cAApB,CAAhC;AACA1H,yBAAS8H,gBAAT,CAA0BtF,OAAOgC,QAAP,CAAgBE,YAA1C;AACH,aAJM,MAIA,IAAI,KAAK1C,WAAL,IAAoB,CAAxB,EAA2B;AAC9BQ,uBAAOgC,QAAP,CAAgBG,aAAhB,IAAiC8C,SAASxC,WAAWyC,cAApB,CAAjC;AACH,aAFM,MAEA,IAAI,KAAK1F,WAAL,IAAoB,CAAxB,EAA2B;AAC9BQ,uBAAOuF,OAAP,CAAeC,UAAf,CAA0BP,SAASxC,WAAWyC,cAApB,CAA1B;AACA,oBAAI5E,iBAAiBN,OAAOM,cAAP,CAAsBF,YAAtB,CAAmC,gBAAnC,CAArB;AACAE,+BAAemF,QAAf;AACH;AACJ;;AAGD,YAAIhD,UAAJ,EAAgB;AACZ,gBAAIL,OAAO,IAAX;AACA,gBAAIC,YAAY5E,QAAQ,WAAR,CAAhB;AACA4E,sBAAUC,YAAV,CAAuB,yBAAvB,EAAkD,YAAY;AAC1D,oBAAID,YAAY5E,QAAQ,WAAR,CAAhB;AACA2E,qBAAKhE,YAAL,CAAkBmE,WAAlB,GAAgCF,UAAUG,sBAAV,CAAiC,yBAAjC,EAA4DC,WAAWiD,aAAvE,CAAhC;AACH,aAHD;AAIAtD,iBAAK9D,YAAL,CAAkB+B,MAAlB,GAA2BoC,WAAWV,IAAX,GAAkB,GAAlB,GAAwBU,WAAWyC,cAA9D;AACH;AACD;AACA1H,iBAASoH,sBAAT,CAAgC5E,OAAOgC,QAAvC;AACA,YAAI,KAAKzC,oBAAT,EAA+B;AAC3B,iBAAKA,oBAAL,CAA0BoG,aAA1B;AACH;AACD,aAAKlG,UAAL,GAAkB0B,WAAW,YAAM;AAC3B,kBAAKyE,OAAL;AACX,SAFqB,EAEnB,IAFmB,CAAlB;AAGH,KAlYI;;AAoYL5B,cAAU,oBAAY;AAClBhE,eAAOkD,IAAP,CAAY2C,kBAAZ,CAA+B,YAA/B;AACH,KAtYI;;AAwYLjC,mBAAe,uBAAUkC,GAAV,EAAe;AAC1B,YAAIA,QAAQC,SAAZ,EAAuB;AACnB/F,mBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,OAA3B;AACH,SAFD,MAEO,IAAIuB,OAAO,MAAX,EAAmB;AACtB9F,mBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,cAA3B;AACH,SAFM,MAEA,IAAIuB,OAAO,QAAX,EAAqB;AACxB9F,mBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,OAA3B;AACH,SAFM,MAEA;AACHvE,mBAAOkD,IAAP,CAAYqB,cAAZ,CAA2B,OAA3B;AACH;AACJ,KAlZI;;AAoZLS,qBAAiB,2BAAY;AACzB,aAAKxG,KAAL,CAAW4C,IAAX,CAAgBF,SAAhB,CACIxD,GAAG2D,aAAH,CACI3D,GAAGsD,QAAH,CAAYtD,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAZ,EAAmC5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAnC,EAA0D5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAA1D,EAAiF5D,GAAG4D,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAjF,CADJ,CADJ;AAIH,KAzZI;;AA2ZL;AACA0E,kBAAc,wBAAY;AACtB;;;AAGA;AACH,KAjaI;;AAmaLC,aAAS,mBAAY;AACjB,YAAIxD,aAAazC,OAAO0C,cAAP,CAAsB,KAAKlD,WAA3B,CAAjB;AACA,YAAIiD,UAAJ,EAAgB;AACZ,gBAAIL,OAAO,IAAX;AACA,gBAAIC,YAAY5E,QAAQ,WAAR,CAAhB;AACA4E,sBAAUC,YAAV,CAAuB,yBAAvB,EAAkD,YAAY;AAC1D,oBAAID,YAAY5E,QAAQ,WAAR,CAAhB;AACA2E,qBAAKlD,SAAL,CAAeqD,WAAf,GAA6BF,UAAUG,sBAAV,CAAiC,yBAAjC,EAA4DC,WAAWiD,aAAvE,CAA7B;AACH,aAHD;AAIH;;AAED,YAAInG,uBAAuBS,OAAOM,cAAP,CAAsBF,YAAtB,CAAmC,gBAAnC,CAA3B;AACA;AACA,YAAI8F,YAAY3G,qBAAqB4G,UAArB,CAAgCC,WAAhC,EAAhB;AACA,YAAIF,SAAJ,EAAe;AACX,gBAAIG,UAAU3I,GAAG4I,CAAH,CAAK,CAAL,EAAQ,CAAR,CAAd;AACA,gBAAI,KAAK9G,WAAL,IAAoB,CAApB,IAAyBD,qBAAqBgH,eAArB,CAAqCC,MAAlE,EAA0E;AACtEC,wBAAQlH,qBAAqBgH,eAArB,CAAqCC,MAArC,CAA4CJ,WAA5C,EAAR;AACH,aAFD,MAEO,IAAI,KAAK5G,WAAL,IAAoB,CAApB,IAAyBD,qBAAqBmH,eAArB,CAAqCF,MAAlE,EAA0E;AAC7EC,wBAAQlH,qBAAqBmH,eAArB,CAAqCF,MAArC,CAA4CJ,WAA5C,EAAR;AACH;AACJ;;AAGD,YAAIK,QAAQ/I,GAAG4I,CAAH,CAAK,CAAL,EAAQ,GAAR,CAAZ;AACA,YAAI,KAAK9G,WAAL,IAAoB,CAApB,IAAyBD,qBAAqBgH,eAArB,CAAqCC,MAAlE,EAA0E;AACtEC,oBAAQlH,qBAAqBgH,eAArB,CAAqCC,MAArC,CAA4CJ,WAA5C,EAAR;AACH,SAFD,MAEO,IAAI,KAAK5G,WAAL,IAAoB,CAAxB,EAA2B;AAC9BiH,oBAAQlH,qBAAqBmH,eAArB,CAAqCN,WAArC,EAAR;AACH;AACD,aAAKlH,SAAL,CAAekC,IAAf,CAAoBuF,WAApB,CAAgCjJ,GAAG4I,CAAH,CAAK,CAAL,EAAQ,CAAR,CAAhC;;AAEA,YAAIM,YAAYlJ,GAAGmJ,MAAH,CAAU,CAAV,EAAanJ,GAAG4I,CAAH,CAAK,CAAC,GAAN,EAAW,GAAX,CAAb,CAAhB;AACA,YAAIQ,aAAapJ,GAAGqJ,MAAH,CAAU,CAAV,EAAa,CAAb,CAAjB;AACA;;AAEA,aAAK7H,SAAL,CAAekC,IAAf,CAAoBF,SAApB,CAA8BxD,GAAGsD,QAAH,CAAY4F,SAAZ,EAAuBE,UAAvB,CAA9B;AAGH,KA1cI;;AA4cL;AACAlB,aAAS,mBAAY;AACjB5F,eAAOkD,IAAP,CAAYC,SAAZ,CAAsB,KAAtB,EAA6B,GAA7B;AACA;AACA;AACA,YAAI,KAAK1D,UAAL,KAAoB,IAAxB,EAA8B;AAC1BuH,yBAAa,KAAKvH,UAAlB;AACA,iBAAKA,UAAL,GAAkB,IAAlB;AACH;AACD,YAAI,KAAKF,oBAAT,EAA+B;AAC3BsC,oBAAQC,GAAR,CAAY,MAAZ;AACA,iBAAKvC,oBAAL,CAA0BgB,mBAA1B;AACH;AACD,aAAK0G,UAAL;;AAEA;AACA,YAAIC,aAAazJ,QAAQ,YAAR,CAAjB;AACAyJ,mBAAWC,cAAX;;AAEA;;AAEA;AACA;AACH,KAneI;;AAqeLF,gBAAY,sBAAY;AACpB,YAAI,KAAK7F,IAAL,CAAUoF,MAAd,EAAsB;AAClB,iBAAKpF,IAAL,CAAUoF,MAAV,CAAiBY,WAAjB,CAA6B,KAAKhG,IAAlC;AACH;AACD,YAAIpB,OAAOqH,UAAP,IAAqBrH,OAAOqH,UAAP,CAAkBjG,IAAvC,IAA+CpB,OAAOqH,UAAP,CAAkBjG,IAAlB,CAAuBoF,MAA1E,EAAkF;AAC9ExG,mBAAOqH,UAAP,CAAkBjG,IAAlB,CAAuBoF,MAAvB,CAA8BY,WAA9B,CAA0CpH,OAAOqH,UAAP,CAAkBjG,IAA5D;AACH;AACDpB,eAAOqH,UAAP,GAAoB,IAApB;AACH;AA7eI,CAAT","file":"UIPropInfo.js","sourceRoot":"../../../../../assets/Scripts/ui","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\nvar ThirdAPI = require('../common/ThirdAPI')\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        mainNode: {\n            default: null,\n            type: cc.Node,\n        },\n        successNode: {\n            default: null,\n            type: cc.Node,\n        },\n        gainPropIcon: {\n            default: null,\n            type: cc.Sprite,\n        },\n        gainPropName: {\n            default: null,\n            type: cc.Label,\n        },\n        light: {\n            default: null,\n            type: cc.Sprite,\n        },\n        propSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n        propName: {\n            default: null,\n            type: cc.Label,\n        },\n        propNum: {\n            default: null,\n            type: cc.Label,\n        },\n        propInfo: {\n            default: null,\n            type: cc.Label,\n        },\n        chest: {\n            default: null,\n            type: cc.Sprite,\n        },\n        title: {\n            default: null,\n            type: cc.Label,\n        },\n        myParticleSystem1: {\n            default: null,\n            type: cc.ParticleSystem,\n        },\n        myParticleSystem2: {\n            default: null,\n            type: cc.ParticleSystem,\n        },\n        flySprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        shareBtn: {\n            default: null,\n            type: cc.Node,\n        },\n\n        isChest: false, //是否是宝箱\n        showText: '', //显示分享文字\n        parmaIndex: -1, //传入的索引\n        gridControllerScript: null,\n        randomIndex: 0, //随机道具索引\n        closeTimer: null,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    initData: function (isChest, showText, parmaIndex) {\n        this.mainNode.active = true;\n        this.successNode.active = false;\n        this.flySprite.setVisible(false);\n\n        var btnLabel = this.shareBtn.getChildByName('Label');\n        if (Global.cdnGameConfig && Global.cdnGameConfig.totalSwith) {\n            this.shareBtn.width = 230;\n            btnLabel.getComponent(cc.Label).string = \"免费获得\";\n        } else {\n            this.shareBtn.width = 300;\n            btnLabel.getComponent(cc.Label).string = \"看视频得道具\";\n        }\n\n        if (Global.gridController) {\n            this.gridControllerScript = Global.gridController.getComponent(\"gridController\");\n            this.gridControllerScript.onPauseGameForOther();\n        }\n\n        var callback = cc.callFunc(function () {\n            this.isChest = isChest;\n            this.showText = showText;\n            this.parmaIndex = parmaIndex;\n            this.title.string = this.isChest ? '获得免费宝箱' : \"道具\";\n            if (this.isChest) {\n                this.showChest();\n            } else {\n                this.randomProp();\n            }\n        }, this);\n\n        this.mainNode.scale = 0.5;\n        var finished = cc.callFunc(this.chestRunAction, this);\n        var spawnAction = cc.sequence(callback, cc.scaleTo(0.3, 1.08), cc.scaleTo(0.1, 1), finished);\n        this.mainNode.runAction(spawnAction);\n\n        // this.myParticleSystem1.resetSystem();\n        setTimeout(() => {\n            // this.myParticleSystem2.resetSystem();\n        }, 500);\n\n        /*var callback = cc.callFunc(function () {\n            if (Global.gridController) {\n                this.gridControllerScript = Global.gridController.getComponent(\"gridController\");\n                this.gridControllerScript.onPauseOrResume();\n            }\n            this.isChest = isChest;\n            this.showText = showText;\n            this.parmaIndex = parmaIndex;\n            this.title.string = this.isChest ? '藏宝箱' : \"道具\";\n            if (this.isChest) {\n                this.showChest();\n            } else {\n                this.randomProp();\n            }\n\n        }, this);*/\n        //var spawnAction = cc.spawn(cc.sequence(cc.scaleBy(2, 2), cc.scaleTo(2, 1)));\n        // var callback = cc.callFunc(function () {\n        //     cc.scaleTo(0.1, 0.8, 1.2),\n        // },this);\n\n        /* this.mainNode.scale = 0.5;\n         var spawnAction = cc.sequence(cc.scaleTo(0.5, 1.1), cc.scaleTo(0.25, 1));\n         this.mainNode.runAction(spawnAction);*/\n\n\n        /*if (Global.gridController) {\n            this.gridControllerScript = Global.gridController.getComponent(\"gridController\");\n            this.gridControllerScript.onPauseOrResume();\n        }\n        this.isChest = isChest;\n        this.showText = showText;\n        this.parmaIndex = parmaIndex;\n        this.title.string = this.isChest ? '藏宝箱' : \"道具\";\n        if (this.isChest) {\n            this.showChest();\n        } else {\n            this.randomProp();\n        }*/\n    },\n\n    chestRunAction: function () {\n        this.chest.node.runAction(\n            cc.repeatForever(\n                cc.sequence(cc.rotateBy(0.1, 10), cc.rotateBy(0.2, -20), cc.rotateBy(0.2, 20), cc.rotateBy(0.2, -20), cc.rotateBy(0.1, 10), cc.delayTime(2)))\n        );\n    },\n\n    //动画\n    playScale: function () {\n        var callback = cc.callFunc(function () {\n            if (Global.gridController) {\n                this.gridControllerScript = Global.gridController.getComponent(\"gridController\");\n                this.gridControllerScript.onPauseGameForOther();\n            }\n            this.isChest = isChest;\n            this.showText = showText;\n            this.parmaIndex = parmaIndex;\n            this.title.string = this.isChest ? '藏宝箱' : \"道具\";\n            if (this.isChest) {\n                this.showChest();\n            } else {\n                this.randomProp();\n            }\n\n        }, this);\n        var spawnAction = cc.spawn(cc.sequence(cc.scaleTo(0, 0.5), cc.scaleTo(0.5, 1)));\n        this.node.runAction(spawnAction, callback);\n    },\n\n    //随机道具显示\n    randomProp: function () {\n        this.propSprite.setVisible(true);\n        this.chest.setVisible(false);\n        var myUtil = require('myUtil');\n        this.randomIndex = myUtil.randomForArray(Global.randomPropCode);\n        if (this.parmaIndex != -1) {\n            console.log('传入的道具索引：' + this.parmaIndex);\n            this.randomIndex = this.parmaIndex;\n        }\n        console.log('randomIndex:' + this.randomIndex);\n\n        var name = 'clear_spr';\n        var propNum = 0;\n        if (this.randomIndex == 0) {\n            name = 'chest_clesr';\n            propNum = Global.gameinfo.clearPropNum;\n        } else if (this.randomIndex == 1) {\n            name = 'chest_super';\n            propNum = Global.gameinfo.superPropNum;\n        } else if (this.randomIndex == 2) {\n            name = 'chest_double';\n            propNum = Global.gameinfo.doublePropNum;\n        }\n\n        var self = this;\n        var LoadAtlas = require(\"LoadAtlas\");\n        LoadAtlas.loadAtlasRes(\"textures/gridItem/items\", function () {\n            var LoadAtlas = require(\"LoadAtlas\");\n            self.propSprite.spriteFrame = LoadAtlas.getSpriteFrameFromName(\"textures/gridItem/items\", name);\n        });\n\n        //文字显示\n        var prop_parma = Global.randomPropInfo[self.randomIndex];\n        if (prop_parma) {\n            this.propName.string = prop_parma.name;\n            this.propInfo.string = prop_parma.desc;\n\n            this.propNum.string = 'x' + propNum;\n            if (propNum > 0) {\n                this.propNum.node.color = new cc.Color(158, 107, 70);\n            } else {\n                this.propNum.node.color = new cc.Color(204, 33, 33);\n            }\n        }\n    },\n\n    //显示宝箱弹框    \n    showChest: function () {\n        var self = this;\n        self.propSprite.setVisible(false);\n        self.chest.setVisible(true);\n        var myUtil = require('myUtil');\n        self.randomIndex = myUtil.randomForArray(Global.randomPropCode);\n        self.randomIndex = myUtil.randomForArray([0, 1]);\n        console.log('randomIndex:' + self.randomIndex);\n\n        var LoadAtlas = require(\"LoadAtlas\");\n        LoadAtlas.loadAtlasRes(\"textures/gridItem/items\", function () {\n            var LoadAtlas = require(\"LoadAtlas\");\n            self.chest.spriteFrame = LoadAtlas.getSpriteFrameFromName(\"textures/gridItem/items\", 'chest');\n\n            var rect = self.chest.spriteFrame.getRect();\n            self.chest.node.width = rect.width;\n            self.chest.node.height = rect.height;\n            self.chest.node.scale = 1;\n        });\n\n        this.propName.string = \"\";\n        this.propNum.string = \"\";\n\n        //文字显示\n        // var prop_parma = Global.randomPropInfo[self.randomIndex];\n        // if (prop_parma) {\n        //     if (this.showText && this.showText != '') {\n        //         self.propInfo.string = this.showText;\n        //     } else {\n        //         self.propInfo.string = prop_parma.name + '宝箱藏，送给群友尝一尝'; //'恭喜获得' + prop_parma.name + '宝箱！可以免费送给朋友们！';\n        //     }\n        // }\n        self.propInfo.string = '恭喜获得免费宝箱\\n快来领取吧';\n    },\n\n    onShargeGame: function () {\n        Global.game.playSound('btn', 0.1);\n        var myUtil = require('myUtil');\n        if (typeof FBInstant !== 'undefined') {\n            ThirdAPI.shareGame(myUtil.getImgBase64(), null);\n        } else if (typeof wx !== 'undefined') {\n            var sourceCode = '028';\n            var img = 'randomImg';\n            if (this.randomIndex == 0) {\n                sourceCode = '248';\n                img = '01';\n            } else if (this.randomIndex == 1) {\n                sourceCode = '249';\n                img = '02';\n            } else if (this.randomIndex == 2) {\n                sourceCode = '300';\n                img = '03';\n            } else if (this.randomIndex == 4) {\n                sourceCode = '251';\n                img = 'randomImg';\n            }\n            if (Global.cdnGameConfig && Global.cdnGameConfig.totalSwith) {\n                ThirdAPI.shareGame(img, this.onShareSuccess.bind(this), this.onShareFailed.bind(this), sourceCode);\n            } else {\n                var wxRewardVideoAd = require('wxRewardVideoAd');\n                wxRewardVideoAd.initCreateReward(this.onAdSuccess.bind(this), this.onAdFail.bind(this));\n            }\n        } else {\n            tywx.LOGE(\"\",\"file = [IOPropInfo] fun = [onShargeGame] 测试分享\");\n            this.onShareSuccess();\n        }\n    },\n\n    onShareSuccess: function (openGId) {\n        //游戏过程中通过宝箱分享成功\n        var biManager = require('biManager');\n        biManager.bilog(biManager.chestShare, null);\n\n        if (typeof wx !== 'undefined') {\n            if (!openGId) {\n                Global.game.showDialogText('分享失败，分享到群才有效');\n                console.log('分享失败，分享到群才有效');\n                return;\n            }\n        }\n\n        if (Global.gameinfo.shareData1.arrOpenGId.indexOf(openGId) != -1) {\n            console.log('该群今日已经分享过', openGId);\n            Global.game.showDialogText('分享失败，请分享到不同群');\n            return;\n        } else {\n            console.log('该群未分享过', openGId);\n            Global.gameinfo.shareData1.arrOpenGId.push(openGId);\n            ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        }\n        this.onAdSuccess();\n    },\n\n    //看视频成功得道具\n    onAdSuccess: function () {\n        //设置全屏的按钮\n        var canvas = cc.find('Canvas');\n        var button = this.successNode.getChildByName('button');\n        if (button) {\n            button.width = canvas.width;\n            button.width = canvas.width;\n        }\n        this.playLightAction();\n\n        this.mainNode.active = false;\n        this.successNode.active = true;\n        var prop_parma = Global.randomPropInfo[this.randomIndex];\n        console.log('分享成功', prop_parma.name, parseInt(prop_parma.gainAddPropNum));\n        //增加道具\n        if (prop_parma) {\n            if (this.randomIndex == 0) {\n                Global.gameinfo.clearPropNum = ThirdAPI.getClearPropNum();\n                Global.gameinfo.clearPropNum += parseInt(prop_parma.gainAddPropNum);\n                ThirdAPI.saveClearPropNum(Global.gameinfo.clearPropNum);\n            } else if (this.randomIndex == 1) {\n                Global.gameinfo.superPropNum = ThirdAPI.getSuperPropNum();\n                Global.gameinfo.superPropNum += parseInt(prop_parma.gainAddPropNum);\n                ThirdAPI.saveSuperPropNum(Global.gameinfo.superPropNum);\n            } else if (this.randomIndex == 2) {\n                Global.gameinfo.doublePropNum += parseInt(prop_parma.gainAddPropNum);\n            } else if (this.randomIndex == 4) {\n                Global.startUI.updateGold(parseInt(prop_parma.gainAddPropNum));\n                var gridController = Global.gridController.getComponent('gridController');\n                gridController.showGold();\n            }\n        }\n\n\n        if (prop_parma) {\n            var self = this;\n            var LoadAtlas = require(\"LoadAtlas\");\n            LoadAtlas.loadAtlasRes(\"textures/gridItem/items\", function () {\n                var LoadAtlas = require(\"LoadAtlas\");\n                self.gainPropIcon.spriteFrame = LoadAtlas.getSpriteFrameFromName(\"textures/gridItem/items\", prop_parma.addPropSprite);\n            });\n            self.gainPropName.string = prop_parma.name + 'x' + prop_parma.gainAddPropNum;\n        }\n        //存储本地数据\n        ThirdAPI.saveFriendGenStoneInfo(Global.gameinfo);\n        if (this.gridControllerScript) {\n            this.gridControllerScript.setPropSprite();\n        }\n        this.closeTimer = setTimeout(() => {\n                this.onClose();\n    }, 2000);\n    },\n\n    onAdFail: function () {\n        Global.game.showDialogPropText('观看完整视频获得道具');\n    },\n\n    onShareFailed: function (msg) {\n        if (msg === undefined) {\n            Global.game.showDialogText('分享失败！');\n        } else if (msg == 'fail') {\n            Global.game.showDialogText('分享失败，分享到群才有效');\n        } else if (msg == 'cancel') {\n            Global.game.showDialogText('分享失败！');\n        } else {\n            Global.game.showDialogText('分享失败！');\n        }\n    },\n\n    playLightAction: function () {\n        this.light.node.runAction(\n            cc.repeatForever(\n                cc.sequence(cc.rotateBy(0.3, -90), cc.rotateBy(0.3, -90), cc.rotateBy(0.3, -90), cc.rotateBy(0.3, -90)))\n        );\n    },\n\n    //缩放消失效果\n    scaleToClose: function () {\n        /*var scaleAction = cc.scaleTo(0.3, 0);\n        var callback = cc.callFunc(this.onClose, this);\n        this.node.runAction(cc.sequence(scaleAction,callback));*/\n        //this.propFly();\n    },\n\n    propFly: function () {\n        var prop_parma = Global.randomPropInfo[this.randomIndex];\n        if (prop_parma) {\n            var self = this;\n            var LoadAtlas = require(\"LoadAtlas\");\n            LoadAtlas.loadAtlasRes(\"textures/gridItem/items\", function () {\n                var LoadAtlas = require(\"LoadAtlas\");\n                self.flySprite.spriteFrame = LoadAtlas.getSpriteFrameFromName(\"textures/gridItem/items\", prop_parma.addPropSprite);\n            });\n        }\n\n        var gridControllerScript = Global.gridController.getComponent(\"gridController\");\n        //层级组件的位置\n        var layoutPos = gridControllerScript.propLayout.getPosition();\n        if (layoutPos) {\n            var propPos = cc.p(0, 0);\n            if (this.randomIndex == 0 && gridControllerScript.clearUseNumNode.parent) {\n                toPos = gridControllerScript.clearUseNumNode.parent.getPosition();\n            } else if (this.randomIndex == 1 && gridControllerScript.superUseNumNode.parent) {\n                toPos = gridControllerScript.superUseNumNode.parent.getPosition();\n            }\n        }\n\n\n        var toPos = cc.p(0, 200);\n        if (this.randomIndex == 0 && gridControllerScript.clearUseNumNode.parent) {\n            toPos = gridControllerScript.clearUseNumNode.parent.getPosition();\n        } else if (this.randomIndex == 1) {\n            toPos = gridControllerScript.superUseNumNode.getPosition();\n        }\n        this.flySprite.node.setPosition(cc.p(0, 0));\n\n        var flyAction = cc.moveTo(2, cc.p(-260, 432));\n        var hideAction = cc.fadeTo(0, 0);\n        // var callback = cc.callFunc(this.removeNode, this);\n\n        this.flySprite.node.runAction(cc.sequence(flyAction, hideAction));\n\n\n    },\n\n    // 按钮回调：关闭\n    onClose: function () {\n        Global.game.playSound('btn', 0.1);\n        // this.mainNode.stopAllActions();\n        // var callback = cc.callFunc(function () {\n        if (this.closeTimer !== null) {\n            clearTimeout(this.closeTimer);\n            this.closeTimer = null;\n        }\n        if (this.gridControllerScript) {\n            console.log('恢复游戏');\n            this.gridControllerScript.onPauseGameForOther();\n        }\n        this.removeNode();\n\n        //创建广告\n        var wxBannerAd = require('wxBannerAd');\n        wxBannerAd.createBannerAd();\n\n        //     }, this);\n\n        //     var spawnAction = cc.sequence(cc.scaleTo(0.2, 0.7), callback);\n        //     this.mainNode.runAction(spawnAction);\n    },\n    \n    removeNode: function () {\n        if (this.node.parent) {\n            this.node.parent.removeChild(this.node);\n        }\n        if (Global.propInfoUI && Global.propInfoUI.node && Global.propInfoUI.node.parent) {\n            Global.propInfoUI.node.parent.removeChild(Global.propInfoUI.node);\n        }\n        Global.propInfoUI = null;\n    },\n});"]}