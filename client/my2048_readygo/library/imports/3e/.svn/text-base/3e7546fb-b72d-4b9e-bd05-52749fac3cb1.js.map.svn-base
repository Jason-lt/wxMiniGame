{"version":3,"sources":["../../../../../assets/Scripts/view/assets/Scripts/view/flyGold.js"],"names":["cc","Class","extends","Component","properties","num","Sprite","default","type","start","toPosition","p","gridNum","node","stopAllActions","finished","callFunc","action","spawn","moveTo","x","y","rotateBy","action2","scaleTo","updateGoldNum","updateGold","myAction","sequence","runAction","setLocalZOrder","parent","removeChild","destroy","gridControllerScript","Global","gridController","getComponent"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,aAAK,CADG;AAERC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMR,GAAGM;AAFL;AAFA,KAHP;;AAWL;;AAEA;;AAEAG,SAfK,mBAeG,CAEP,CAjBI;;;AAmBLC,gBAAY,oBAAUC,CAAV,EAAaC,OAAb,EAAsB;AAC9B,aAAKP,GAAL,GAAWO,OAAX;AACA,aAAKC,IAAL,CAAUC,cAAV;AACA;AACA,YAAIC,WAAWf,GAAGgB,QAAH,CAAY,KAAKD,QAAjB,EAA2B,IAA3B,CAAf;AACA,YAAIE,SAASjB,GAAGkB,KAAH,CAASlB,GAAGmB,MAAH,CAAU,GAAV,EAAenB,GAAGW,CAAH,CAAKA,EAAES,CAAP,EAAUT,EAAEU,CAAZ,CAAf,CAAT,EAAyCrB,GAAGsB,QAAH,CAAY,GAAZ,EAAiB,CAAjB,CAAzC,CAAb;AACA,YAAIC,UAAUvB,GAAGwB,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAd;AACA,YAAIC,gBAAgBzB,GAAGgB,QAAH,CAAY,KAAKU,UAAjB,EAA6B,IAA7B,CAApB;AACA,YAAIC,WAAW3B,GAAG4B,QAAH,CAAYX,MAAZ,EAAoBM,OAApB,EAA6BE,aAA7B,EAA4CV,QAA5C,CAAf;AACA,aAAKF,IAAL,CAAUgB,SAAV,CAAoBF,QAApB;AACA,aAAKd,IAAL,CAAUiB,cAAV,CAAyB,EAAzB;AACH,KA9BI;;AAgCLf,cAAU,oBAAY;AAClB,aAAKF,IAAL,CAAUC,cAAV;AACA,aAAKD,IAAL,CAAUkB,MAAV,CAAiBC,WAAjB,CAA6B,KAAKnB,IAAlC;AACA,aAAKA,IAAL,CAAUoB,OAAV;;AAEA,YAAIC,uBAAuBC,OAAOC,cAAP,CAAsBC,YAAtB,CAAmC,gBAAnC,CAA3B;AACAH,6BAAqBR,UAArB,CAAgC,KAAKrB,GAArC;AACH;;AAED;AAzCK,CAAT","file":"flyGold.js","sourceRoot":"../../../../../assets/Scripts/view","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        num: 0,\n        Sprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    toPosition: function (p, gridNum) {\n        this.num = gridNum;\n        this.node.stopAllActions();\n        //再上移\n        var finished = cc.callFunc(this.finished, this);\n        var action = cc.spawn(cc.moveTo(0.5, cc.p(p.x, p.y)), cc.rotateBy(0.5, 0));\n        var action2 = cc.scaleTo(0.3, 2, 2);\n        var updateGoldNum = cc.callFunc(this.updateGold, this);\n        var myAction = cc.sequence(action, action2, updateGoldNum, finished);\n        this.node.runAction(myAction);\n        this.node.setLocalZOrder(10);\n    },\n\n    finished: function () {\n        this.node.stopAllActions();\n        this.node.parent.removeChild(this.node);\n        this.node.destroy();\n\n        var gridControllerScript = Global.gridController.getComponent(\"gridController\");\n        gridControllerScript.updateGold(this.num);\n    }\n\n    // update (dt) {},\n});"]}